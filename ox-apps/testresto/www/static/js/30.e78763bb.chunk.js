(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{428:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"i",(function(){return m})),n.d(t,"o",(function(){return f})),n.d(t,"p",(function(){return p})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return O})),n.d(t,"l",(function(){return N})),n.d(t,"f",(function(){return A})),n.d(t,"k",(function(){return j})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return S})),n.d(t,"j",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"h",(function(){return x}));var r=n(27),a=n.n(r),c=n(11),i=n.n(c),l=n(15);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e){return e.filter((function(e){return e.sellRecords.filter((function(e){return e.count||!e.deleted})).length&&e}))},d=function(e,t,n){var r=e.reduce((function(e,t){return e+Object(l.d)(t.subtotal)}),0),a=t.find((function(e){return Object(l.d)(e.totalPrice.max)>=r&&Object(l.d)(e.totalPrice.min)<=r}))||t[0];return{shippingService:a.id,data:o({items:e.map((function(e){return{sell:e.id,shippingService:a.id}}))},n)}},m=function(e,t,n,r){var a=o({items:e.map((function(e){return{sell:e,shippingService:t}}))},r);return n&&(a.shippingTime=n.date+" "+n.time),a},f=function(e,t){return o(o({},t),{},{shippingService:e})},p=function(e,t){return t.map((function(t){return f(e,t)}))},v=function(e,t){return t.sellIds.map((function(t){return e.find((function(e){return e.id===t}))})).filter((function(e){return e}))},E=function(e){return e.reduce((function(e,t){return e+(t.available?Object(l.d)(t.subtotal):0)}),0)},b=function(e){return e.reduce((function(e,t){return e+(t.available?Object(l.d)(t.discount):0)}),0)};var O=function(e,t){return t.reduce((function(e,t){return e+(function(e,t){var n;return(null===(n=t.sells)||void 0===n?void 0:n.filter((function(e){return!(null!==e&&void 0!==e&&e.available)})).length)===t.sellIds.length}(0,t)?0:t.shippingPrice)}),0)};function g(e,t,n){var r,a=e.sellRecords[0].location,c=t.locations.find((function(e){return e.id===a}));return c.supplier?r=t.suppliers.find((function(e){return e.id===c.supplier})):(r=t.suppliers.find((function(e){return!e.originalSubdomain}))).paymentMethods=n,r}function h(e){return e&&e.split("_")[0]}var N=function(e,t,n,r){return t?e.map((function(e){return o(o({},e),{},{available:(a=g(e,r,n),c=t,!!a.paymentMethods.find((function(e){return h(c.gatewayType)===h(e.gatewayType)&&c.cash===e.cash&&c.wallet===e.wallet})))});var a,c})):e.map((function(e){return o(o({},e),{},{available:!0})}))},A=function(e){return e.reduce((function(e,t){return t.available?[].concat(a()(e),[t.id]):e}),[])},j=function(e,t){return t.map((function(t){return t.id===e.id?function(e){return function(e){return!e.sellRecords.find((function(e){return!e.deleted}))}(e)?o(o({},e),{},{delete:!0}):e}(e):t})).filter((function(e){return!e.delete}))};var y=function(e,t){return o(o({},t),{},{sells:v(e,t)})},S=function(e,t){return t.map((function(t){return y(e,t)})).filter((function(e){return e.sells.length}))};function w(e){return e.forEach((function(e){e.sells&&e.sells.forEach((function(e){console.log("sell",e.id),console.log("records",e.sellRecords.map((function(e){return e.id})))}))})),e}function k(e,t){var n=e%t;return{result:(e-n)/t,remain:n}}function x(e,t){return e.find((function(e){return e.id===t})).name}},457:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAASCAYAAABB7B6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC6SURBVHgBtZTRDYMwDESPTsAIHoXNyAZkA7pJR2KENmlrxVSxYhv1pPvKC2cH6YCP1uKj+Glw5TY4tBk//OtkDeDJycgT2iYm8UQeaU+3F88afDWAvWtwJECK0J57HcGRgKpFnC0jOBJQldD+CY3gSEDV/Xv+sMCRgJmZSYATfAGjO2/mhj+rF8C9ZO2cIS+rotdLqXOHzzSeIOokdSASkMUan3mijHNdXw04lM2722To8vKnbdQpPPwLRZ6d/uRC9aQAAAAASUVORK5CYII="},466:function(e,t,n){"use strict";var r=n(4),a=n.n(r),c=n(0),i=n.n(c),l=n(15),u=n(1),o=n(36),s=n(58),d=n(35),m=n(2);t.a=function(e){var t=e.refundRecord,n=e.sellRecord,r=Object(c.useState)(null),f=a()(r,2),p=f[0],v=f[1],E=!0,b=Object(m.d)((function(e){return e.marketData})).settings,O=Object(c.useState)(),g=a()(O,2),h=g[0],N=g[1];if(Object(c.useEffect)((function(){return Object(s.f)(n.variation).then((function(e){E&&v(e.data.variation)})),function(){E=!1}}),[]),Object(c.useEffect)((function(){p&&N(Object(l.h)(p.properties,b.variationProperty))}),[null===p||void 0===p?void 0:p.properties]),Object(c.useEffect)((function(){Object(o.h)()})),t)return i.a.createElement("div",{className:"cart-item p-0 flex-column align-items-start"},i.a.createElement("div",{className:"row m-0 cart-product-card w-100"},i.a.createElement("div",{className:"col-3 p-0"},i.a.createElement("div",{className:"product-media-wrapper"},i.a.createElement("span",{className:"count_order"},t.count),i.a.createElement(u.b,{className:"product-media",to:"".concat("","/product/").concat(t.variation)},i.a.createElement(d.a,{image:null===p||void 0===p?void 0:p.images[0],largeSize:"300x_",mediumSize:"300x_",smallSize:"150x_",alt:"Product"})))),i.a.createElement("div",{className:"col-9 d-flex cart-product-info m-0"},i.a.createElement("div",{className:"cart-item-infoblock w-100"},i.a.createElement("div",null,i.a.createElement(u.b,{className:"text-dark",to:"".concat("","/product/").concat(t.variation)},null===p||void 0===p?void 0:p.name),i.a.createElement("div",{className:"d-flex"},p?null===h||void 0===h?void 0:h.map((function(e,t){return i.a.createElement("div",{key:t,className:"cart-variation-pr"},i.a.createElement("span",null,e.name),i.a.createElement("span",null,e.value))})):i.a.createElement("div",{className:"short-line-shimmer"})))))));var A=null===p||void 0===p?void 0:p.images[0];return i.a.createElement("div",{className:"cart-item p-0 flex-column align-items-start"},i.a.createElement("div",{className:"row m-0 cart-product-card w-100"},i.a.createElement("div",{className:"col-3 p-0"},i.a.createElement("div",{className:"product-media-wrapper"},i.a.createElement("span",{className:"count_order"},n.count),i.a.createElement(u.b,{className:"product-media",to:"".concat("","/product/").concat(n.variation)},A?i.a.createElement(d.a,{image:A,largeSize:"300x_",mediumSize:"300x_",smallSize:"150x_",alt:"Product"}):null))),i.a.createElement("div",{className:"col-9 d-flex cart-product-info m-0"},i.a.createElement("div",{className:"cart-item-infoblock w-100"},i.a.createElement("div",null,i.a.createElement(u.b,{className:"text-dark",to:"".concat("","/product/").concat(n.variation)},n.variationName),i.a.createElement("div",{className:"d-flex"},p?null===h||void 0===h?void 0:h.map((function(e,t){return i.a.createElement("div",{key:t,className:"cart-variation-pr"},i.a.createElement("span",null,e.name),i.a.createElement("span",null,e.value))})):i.a.createElement("div",{className:"short-line-shimmer"}))),i.a.createElement("div",{className:"cart-amount-product"},(null===n||void 0===n?void 0:n.discount[n.discount.first])>0?i.a.createElement("div",{className:"search-result-price"},i.a.createElement("span",{className:"new-price"},Object(l.d)(n.finalPrice,!0)),i.a.createElement("span",{className:"old-price text-through"},Object(l.d)(n.price,!0))):Object(l.d)(n.total,!0))))))}},632:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var r=n(4),a=n.n(r),c=n(0),i=n.n(c),l=n(62),u=n(457),o=n.n(u),s=n(51),d=n(68),m=n(2),f=n(428),p=n(25),v=n(466),E=n(15);function b(e){var t=Object(l.a)().t,n=e.match.params,r=n.token,u=n.id,b=Object(m.d)((function(e){return e.marketData.cashdesk})).paymentMethods,O=Object(m.d)((function(e){return e.marketData})).shippingServices,g=Object(c.useState)(!0),h=a()(g,2),N=h[0],A=h[1],j=Object(c.useState)(),y=a()(j,2),S=y[0],w=y[1],k=Object(c.useState)(),x=a()(k,2),P=x[0],R=x[1],C=Object(c.useState)(),_=a()(C,2),D=_[0],B=_[1],Y=Object(c.useState)(0),I=a()(Y,2),T=I[0],M=I[1],U=Object(c.useState)(0),z=a()(U,2),J=z[0],K=z[1];return Object(c.useEffect)((function(){var e=document.querySelector("header"),t=document.querySelector("footer");return e.classList.add("d-none"),t.classList.add("d-none"),Object(s.g)(r).then((function(e){if(e){var t=e.items.find((function(e){return e.id===parseInt(u)}));console.log(t),w(t),B(O.find((function(e){return e.id===t.sells[0].shippingService}))),M(t.sells.reduce((function(e,t){return e+Object(E.d)(t.subtotal)}),0)),K(Object(f.a)(t.sells)),R(b.find((function(e){return e.id===t.sells[0].payments[0].paymentMethod}))),A(!1)}})),function(){var e=document.querySelector("header"),t=document.querySelector(".footer.footer-four");e&&e.classList.remove("d-none"),t&&t.classList.remove("d-none")}}),[]),N?i.a.createElement(d.a,null):i.a.createElement("div",{id:"order-details",className:"order-details-page"},i.a.createElement("div",{className:"orders_header"},i.a.createElement("h3",null,t("order-details"))),i.a.createElement("div",{className:"order-content"},i.a.createElement("div",{className:"info-order-item"},i.a.createElement("div",{className:"info_order"},i.a.createElement("div",{className:"info-order-content"},i.a.createElement("div",{className:"delivery_type"},i.a.createElement("img",{src:o.a,alt:"car",width:"20",height:"20"}),i.a.createElement("p",{className:"delivery_name"},D.name),D.price?(D.price[D.price.first],i.a.createElement("p",{className:"delivery_price"},Object(p.formatterCurrency)(D.price[D.price.first]))):""),S.sells.filter((function(e){return!e.deleted})).map((function(e,n){return i.a.createElement("div",{className:"sell_group",key:n},i.a.createElement("div",{className:"info_sell"},i.a.createElement("p",{className:"sell-id m-0"},t("order")," #",e.id)),i.a.createElement("div",{className:"sell_items"},e.sellRecords.filter((function(e){return!e.deleted})).map((function(e,t){return i.a.createElement(v.a,{key:t,sellRecord:e})}))))})))),i.a.createElement("div",{className:"summary"},i.a.createElement("div",{className:"table-wrapper"},i.a.createElement("div",{className:"table table-summary"},i.a.createElement("div",{className:"summary-subtotal"},i.a.createElement("p",null,t("productstwo")),i.a.createElement("p",null,Object(p.formatterCurrency)(T))),J>0?i.a.createElement("div",{className:"summary-subtotal discount"},i.a.createElement("p",null,t("discount")),i.a.createElement("p",null,Object(p.formatterCurrency)(J))):null,D.price?i.a.createElement("div",{className:"summary-shipping"},i.a.createElement("p",null,t("delivery")),i.a.createElement("p",null,Object(p.formatterCurrency)(D.price[D.price.first]))):""),i.a.createElement("div",{className:"location"},i.a.createElement("p",null,S.shippingAddress.addressLine1)),i.a.createElement("div",{className:"payment"},i.a.createElement("p",null,t("payment"),":"),i.a.createElement("p",null,i.a.createElement("img",{src:"https://app.ox-sys.com".concat(null===P||void 0===P?void 0:P.icon),alt:"card",width:"25",height:"20"}),i.a.createElement("span",null,P.name))))))))}}}]);
//# sourceMappingURL=30.e78763bb.chunk.js.map