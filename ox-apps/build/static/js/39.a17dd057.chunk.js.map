{"version":3,"sources":["components/features/modal/QRModal.jsx","components/mobile/MobileBottomNavbarTwo.jsx"],"names":["customStyles","overlay","background","zIndex","QRModal","setQrModal","QrModal","QrCode","token","t","useTranslation","useState","userMoney","setUserMoney","useEffect","getUserByToken","then","res","wallet","totalCash","isOpen","className","onRequestClose","style","id","onClick","src","alt","value","width","height","displayValue","withRouter","home","location","cartlist","useSelector","state","cart","user","tokenData","productList","choosenProducts","history","useHistory","QRCode","setQRCode","active","setActive","icons","market","config","checkPathAndActivateMenu","pathname","to","main","path","key","menu","category","QR_code","getQRCode","code","catch","err","console","log","qr_code","profile","prevPathname","favourites","length","getCartCount"],"mappings":"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","file":"static/js/39.a17dd057.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Modal from \"react-modal\";\nimport { QRCodeCanvas } from \"qrcode.react\";\nimport Barcode from \"react-barcode\";\nimport { getUserByToken } from \"../../../api/user\";\nconst customStyles = {\n\toverlay: {\n\t\tbackground: \"rgba(77,77,77,0.6)\",\n\t\tzIndex: \"10002\",\n\t},\n};\n\nexport default function QRModal({ setQrModal, QrModal, QrCode, token }) {\n\tconst { t } = useTranslation();\n\tconst [userMoney, setUserMoney] = useState(0);\n\tuseEffect(() => {\n\t\tgetUserByToken(token).then((res) => {\n\t\t\tsetUserMoney(res?.wallet?.totalCash);\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={QrModal}\n\t\t\tclassName=\"modal-dialog cashback-modal\"\n\t\t\tonRequestClose={() => setQrModal(!QrModal)}\n\t\t\tstyle={customStyles}\n\t\t\tid=\"cashback-modal\"\n\t\t>\n\t\t\t<div className=\"modal-content\">\n\t\t\t\t<button className=\"closer\" onClick={() => setQrModal(!QrModal)}>\n\t\t\t\t\t<img src=\"/assets/images/icons/closer.svg\" alt=\"closer\" />\n\t\t\t\t</button>\n\t\t\t\t<div className=\"show-code\">\n\t\t\t\t\t<h3>{t(\"show_code\")}</h3>\n\t\t\t\t\t<h2>{QrCode}</h2>\n\t\t\t\t</div>\n\t\t\t\t{QrCode ? (\n\t\t\t\t\t<div className=\"qr_code\">\n\t\t\t\t\t\t<div className=\"qr\">\n\t\t\t\t\t\t\t<QRCodeCanvas\n\t\t\t\t\t\t\t\tvalue={`${QrCode}`}\n\t\t\t\t\t\t\t\tstyle={{ width: \"100%\", height: \"100%\" }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"br\">\n\t\t\t\t\t\t\t<Barcode\n\t\t\t\t\t\t\t\tvalue={`${QrCode}`}\n\t\t\t\t\t\t\t\tdisplayValue={false}\n\t\t\t\t\t\t\t\theight={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t\t<p>{t(\"show_code_to_kassa\")} G-SHOP</p>\n\t\t\t\t<div className=\"usercard\">\n\t\t\t\t\t<img src=\"/assets/images/usercard_content.svg\" alt=\"card\" />\n\t\t\t\t\t<p>{t(\"your-balance\")}</p>\n\t\t\t\t\t<h3>{userMoney ? userMoney : 0} UZS</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","import React, {\n\tuseEffect,\n\t// useEffect,\n\t// useEffect,\n\tuseState,\n} from \"react\";\nimport { Link, useHistory, withRouter } from \"react-router-dom\";\n// import { debounce } from \"../../utils/debounce\";\nimport { main, menu, profile, cart } from \"./MobileBottomNavbarData\";\nimport { useTranslation } from \"react-i18next\";\nimport { useSelector } from \"react-redux\";\nimport { getCartCount } from \"../../services\";\nimport market from \"../../config/market\";\nimport QRModal from \"../features/modal/QRModal\";\nimport { getQRCode } from \"../../api/user\";\nimport { checkPathAndActivateMenu } from \"./MobileBottomNavbar\";\n\nconst MobileBottomNavbar = ({ home, location }) => {\n\tconst cartlist = useSelector((state) => state.cartlist.cart);\n\tconst { token } = useSelector((state) => state.user.tokenData);\n\tconst { productList } = useSelector((state) => state.choosenProducts);\n\tconst { t } = useTranslation();\n\t// const [scrollY, setScrollY] = useState(0);\n\t// const [styleNav, setStyleNav] = useState({\n\t// \ttransform: \"translateY(0)\"\n\t// });\n\tconst history = useHistory();\n\tconst [QRCode, setQRCode] = useState();\n\tconst [active, setActive] = useState(1);\n\tfunction getQR() {\n\t\tgetQRCode(token)\n\t\t\t.then((res) => setQRCode(res.code))\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\t// if (market.config.home === 6 || market.config.home === 9) {\n\t// \tuseEffect(() => {\n\t// \t\twindow.addEventListener(\"scroll\", () => {\n\t// \t\t\tconst scrollable =\n\t// \t\t\t\tdocument.documentElement.scrollHeight - window.innerHeight;\n\t// \t\t\tconst scrolled = window.scrollY;\n\t// \t\t\tif (Math.ceil(scrolled) === scrollable) {\n\t// \t\t\t\tsetStyleNav({\n\t// \t\t\t\t\ttransform: \"translateY(77px)\"\n\t// \t\t\t\t});\n\t// \t\t\t} else {\n\t// \t\t\t\tsetStyleNav({\n\t// \t\t\t\t\ttransform: \"translateY(0)\"\n\t// \t\t\t\t});\n\t// \t\t\t}\n\t// \t\t});\n\t// \t}, []);\n\t// } else if (market.config.home !== 7) {\n\t// \tlet scroll = window.addEventListener(\"scroll\", () => {\n\t// \t\tdebounce(\n\t// \t\t\t() => {\n\t// \t\t\t\tif (window.scrollY > scrollY) {\n\t// \t\t\t\t\tsetStyleNav({\n\t// \t\t\t\t\t\ttransform: \"translateY(77px)\"\n\t// \t\t\t\t\t});\n\t// \t\t\t\t\tsetScrollY(window.scrollY - 1);\n\t// \t\t\t\t} else {\n\t// \t\t\t\t\tsetStyleNav({\n\t// \t\t\t\t\t\ttransform: \"translateY(0)\"\n\t// \t\t\t\t\t});\n\t// \t\t\t\t\tsetScrollY(window.scrollY + 1);\n\t// \t\t\t\t}\n\t// \t\t\t},\n\t// \t\t\t\"scrollWindow\",\n\t// \t\t\t10\n\t// \t\t);\n\t// \t});\n\n\t// \tuseEffect(() => {\n\t// \t\treturn () => {\n\t// \t\t\twindow.removeEventListener(\"scroll\", scroll);\n\t// \t\t};\n\t// \t}, []);\n\t// }\n\n\tconst [QrModal, setQrModal] = useState(false);\n\tconst icons = market.config.icons;\n\n\tuseEffect(() => {\n\t\tcheckPathAndActivateMenu(location.pathname, setActive);\n\t}, [location.pathname]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"mobile_btm_navbar_box\"\n\t\t\t// style={{ ...styleNav, transition: \"0.3s\" }}\n\t\t>\n\t\t\t<ul>\n\t\t\t\t<Link to={main.path} onClick={() => setActive(1)}>\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={main.key}\n\t\t\t\t\t\tclassName={`${active === 1 ? \"active\" : \"\"}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img className=\"home\" src={icons.home} alt=\"home\" />\n\t\t\t\t\t\t<span>{t(main.key)}</span>\n\t\t\t\t\t</li>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tto=\"/category\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetActive(2);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={menu.key}\n\t\t\t\t\t\tclassName={`${active === 2 ? \"active\" : \"\"}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src={icons.category} alt=\"category\" />\n\t\t\t\t\t\t<span>{t(menu.key)}</span>\n\t\t\t\t\t</li>\n\t\t\t\t</Link>\n\t\t\t\t{market.config.QR_code ? (\n\t\t\t\t\ttoken ? (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"cashback\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetQrModal(!QrModal);\n\t\t\t\t\t\t\t\tgetQR();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={market.config.icons.qr_code}\n\t\t\t\t\t\t\t\talt=\"qr_code\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span>{t(\"cashback2\")}</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: profile.path,\n\t\t\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\t\t\tprevPathname: history.location.pathname,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"cashback\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={market.config.icons.qr_code}\n\t\t\t\t\t\t\t\talt=\"qr_code\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span>{t(\"cashback2\")}</span>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t)\n\t\t\t\t) : (\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/choosen-products-list\"\n\t\t\t\t\t\tclassName=\"choosen-products-icon\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetActive(3);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<li className={`${active === 3 ? \"active\" : \"\"}`}>\n\t\t\t\t\t\t\t<div className=\"counter-icon position-relative\">\n\t\t\t\t\t\t\t\t<img src={icons.favourites} alt=\"favourites\" />\n\t\t\t\t\t\t\t\t{productList.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<span className=\"cart-counte\">\n\t\t\t\t\t\t\t\t\t\t{productList.length}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span>{t(\"favourites\")}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t\t<Link\n\t\t\t\t\tto={token ? \"/checkout\" : cart.path}\n\t\t\t\t\tonClick={() => setActive(4)}\n\t\t\t\t>\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={cart.key}\n\t\t\t\t\t\tclassName={`${active === 4 ? \"active\" : \"\"}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{home === 5 ? (\n\t\t\t\t\t\t\t<div className=\"menu-cart-icon\">\n\t\t\t\t\t\t\t\t<img src={icons.cart} alt=\"cart\" />\n\t\t\t\t\t\t\t\t<span className=\"cart-count\">\n\t\t\t\t\t\t\t\t\t{getCartCount(cartlist)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"counter-icon position-relative\">\n\t\t\t\t\t\t\t\t<img src={icons.cart} alt=\"cart\" />\n\t\t\t\t\t\t\t\t{getCartCount(cartlist) > 0 ? (\n\t\t\t\t\t\t\t\t\t<span className=\"cart-counte\">\n\t\t\t\t\t\t\t\t\t\t{getCartCount(cartlist)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<span>{t(cart.key)}</span>\n\t\t\t\t\t</li>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tonClick={() => setActive(5)}\n\t\t\t\t\tto={{\n\t\t\t\t\t\tpathname: \"/profile\",\n\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\tprevPathname: history.location.pathname,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={profile.key}\n\t\t\t\t\t\tclassName={`${active === 5 ? \"active\" : \"\"}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src={icons.user} alt=\"user\" />\n\t\t\t\t\t\t<span>{t(profile.key)}</span>\n\t\t\t\t\t</li>\n\t\t\t\t</Link>\n\t\t\t</ul>\n\t\t\t{QrModal ? (\n\t\t\t\t<QRModal\n\t\t\t\t\tsetQrModal={setQrModal}\n\t\t\t\t\tQrModal={QrModal}\n\t\t\t\t\tQrCode={QRCode}\n\t\t\t\t\ttoken={token}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\nexport default withRouter(MobileBottomNavbar);\n"],"sourceRoot":""}