{"version":3,"sources":["components/common/InputChangerCount.jsx","components/features/cart/EmptyCart.jsx","components/features/modal/AcseptModal.jsx","assets/images/Time.png","assets/images/Vector.png","views/profile/addresses/AddressList.jsx","views/checkout/sells/isSuccessDate.js","components/features/modal/UserCard/AddNew.jsx","components/features/modal/UserCard/Verify.jsx","components/features/modal/UserCard/AddUserCardModal.jsx","assets/images/Vector2.png","assets/images/CommentIcon.png","views/checkout/MainContext.jsx","views/checkout/sells/SellRecord.jsx","views/checkout/sells/Sell.jsx","views/checkout/sells/ShippingServices.jsx","views/checkout/sells/SellGroup.jsx","views/checkout/sells/SellGroups.jsx","views/checkout/sidebar/Totals.jsx","views/checkout/sidebar/payment/PaymentMethod.jsx","views/checkout/sidebar/payment/PaymentMethods.jsx","views/checkout/sidebar/Sidebar.jsx","views/checkout/LoadingWrapper.jsx","views/checkout/sidebar/payment/PaymentModal.jsx","components/features/modal/YandexMapModalTwo.jsx","views/checkout/Checkout.jsx","components/features/modal/AddCommentModal.jsx","views/checkout/sells/shippingServiceTwo.jsx","components/features/modal/ShippingServiceModal.jsx","components/features/modal/SellFilterModal.jsx","views/checkout/sells/SellRecordTwo.jsx","views/checkout/sells/SellRecordThree.jsx","views/checkout/sells/SellTwo.jsx","views/checkout/sells/SellGroupThree.jsx","views/checkout/sells/SellGroupTwo.jsx","views/checkout/sells/SellGroupsTwo.jsx","views/checkout/sidebar/TotalsTwo.jsx","components/features/modal/InfoSell.jsx","views/checkout/sidebar/SidebarTwo.jsx","views/checkout/CheckoutTwo.jsx","views/checkout/CheckoutThree.jsx","views/checkout/sidebar/SideBarThree.jsx","views/checkout/CheckoutFour.jsx","views/checkout/index.js"],"names":["InputChangerCount","initValue","onChange","variationId","max_count","loadingRecord","min","disable","plus","minus","className","style","cursor","onClick","parseInt","textAlign","border","width","outline","disabled","e","target","value","required","EmtyCart","t","useTranslation","src","alt","customStyles","content","top","transform","padding","overlay","backgroundColor","zIndex","AcseptModal","title","acseptModal","setAcseptModal","isClicked","isOpen","open","onRequestClose","id","item","module","exports","AddressList","shippingAddress","dispatch","useDispatch","location","useSelector","state","user","token","tokenData","useState","address","setUserData","addresses","filter","removeShippingAddress","a","latitude","longitude","n","coordinate","name","addressLine1","split","slice","history","setUserLocation","getAddressByCoordinate","data","addNewShippingAddress","res","setUserAddresses","map","i","key","changeAddress","isSuccessDate","time","startTime","date","endTime","currentData","Date","getHours","isSuccessTime","discountTime","Number","require","height","renderField","props","input","placeholder","type","meta","touched","error","cardInput","match","join","typing","length","document","getElementById","focus","reduxForm","form","validate","values","errors","card_number","substring","card_validity_period_month","card_validity_period_year","card_validity_period_y","handleSubmit","loading","setLoading","onSubmit","noValidate","Field","component","code_number","i18n","AddUserCard","setUserCards","userCardTab","yuuKassa","multiCard","cash","userCards","userCard","setUserCard","onChangePaymentMethod","setPaymentMethod","addNewCard","setAddNewCard","userCardId","setUserCardId","code","setCode","newCard","setNewCard","modal","showModal","close","closeModal","maxWidth","textDecoration","market","config","home","card","htmlFor","defaultChecked","addUserCard","then","catch","console","log","toast","position","verifyCard","deleteUserCard","success","getUserCard","MainContext","React","createContext","SellRecord","sellRecord","product","locations","useContext","removeFromCart","setLoadingRecord","useEffect","quantityInputs","message","to","process","variation","objectFit","getImageUrl","images","variationName","properties","prop","index","getSellLocation","getPrice","finalPrice","total","count","Sell","sell","extraDataSell","available","sellRecords","s","deleted","variations","find","ShippingServices","list","setPickUp","addClass","pickup","service","SellGroup","sellGroup","indexOfSellGroup","shippingServices","onChangeShippingService","currenService","shippingService","formatterCurrency","shippingPrice","day","minute","hour","timeRender","durationMinutes","minut","dividerPro","remain","result","getDeliveryTimeReadable","duration","sellIds","sells","SellGroups","sellsGroups","Totals","paymentMethodWithBalance","sellsTotal","calculateSellsTotal","calculateShippingPrice","totalPrice","marginTop","openModal","preventDefault","PaymentMethod","payment","paymentMethod","classList","remove","setTimeout","display","icon","fontSize","userSelect","PaymentMethods","paymentMethods","wallet","Sidebar","onFinishSell","openPaymentModal","LoadingWrapper","children","right","left","bottom","alignItems","justifyContent","background","wrapper","PaymentModal","YandexMapModalTwo","setLoadingOverlay","addressUser","center","zoom","setCenter","setAddress","h","YandexMap","nh","q","pop","unshift","toastOptions","Checkout","useHistory","marketData","cashdesk","setSellsPlain","setSellsGroups","loadingOverlay","setPaymentMethodWithBalance","chooseCoordinate","setChooseCoordinate","setExtraDataSell","notAvailable","setSells","selectAvailableSellsForPaymentMethod","getUserCart","filterSells","getDefaultShippingCalculateData","shippingCalculate","setUserCart","setShippingServiceToSellsGroups","logger","getCartSupplier","emptyCart","response","status","logoutUser","items","finishSell","getAvailableSellsIds","countryCode","administrativeArea","locality","dependentLocality","postalCode","window","origin","url","sendWithDataPayment","pathname","err","forEach","push","record","getShippingCalculateData","sellsGroupsCopy","setSellsToSellGroup","setShippingServiceToSellGroup","alert","removeFromCartState","removeToCartApi","replaceSellFromSells","setSellsToSellsGroups","getInit","webview","sendMessageToApp","Provider","newPM","changeQty","updateToCartApi","LoaderOverlay","EmptyCart","AddCommentModal","comment","setComment","setValue","trim","defaultValue","cols","rows","ShippingServicesTwo","ShippingServiceModal","setModal","onChangeDate","toLocaleTimeString","onChangeTime","shippingServiceValue","setShippingServiceValue","showDate","setshowDate","showCalendar","setShowCalendar","showTime","setShowTime","pickUp","selectedLocation","setSelectedLocation","activeLocation","setActiveLocation","getShippingCalculateDataLocation","onChangeLocation","YandexMapLocations","supplierAdress","toLocaleDateString","setShippingServiceName","setDate","saveShippingService","SellFilterModal","SellRecordTwo","settings","setProperties","removeProps","variationProperty","discount","first","subtotal","SellRecordThree","icons","deleteIcon","SellTwo","whiteSpace","marginBottom","marginLeft","lineHeight","borderRadius","color","SellGroupThree","openShippingServiceModal","reduce","prev","next","max","collapse","setCollapse","collapsed","onToggle","setCollapsibleElement","delivery","overflow","ref","removeAll","SellGroupTwo","shippingServiceName","workingDay","setWorkingDay","weekDays","locationData","days","workingDays","today","getDay","Vector","car","Object","keys","SellGroupsTwo","sellsDiscount","calculateSellsDiscount","InfoSell","isCheckOut","setIsCheckOut","p","gatewayType","promocode","SidebarTwo","loader","scrollBottom","setScrollBottom","roleLocationIds","switcher","setSwitcher","switcherTwo","setSwitcherTwo","allowDebt","userType","options","margin","roundingTarget","willReview","dataInfo","setDataInfo","rounding","scrollEvent","debounce","scrollToBottom","innerHeight","scrollY","body","scrollHeight","openPayment","addEventListener","removeEventListener","cart","cartlist","TotalsTwo","vector2","commentIcon","opacity","parseFloat","str","test","numbers","roundingCheck","getFranchise","stock","subdomain","CheckoutTwo","setLoader","shippingDate","setShippingDate","bankCard","region","shippingTime","prevPathname","innerWidth","querySelector","setAttribute","BackButton","backArrow","RiveLoader","YandexMapModal","SidebarThree","CheckoutFour","openMapModal","ShopRoute","setCategoryPath","head","innerText","checkout"],"mappings":"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","file":"static/js/16.72b392bf.chunk.js","sourcesContent":["import React from \"react\";\nimport Loader from \"../features/loaders/loader\";\n\nfunction InputChangerCount({\n\tinitValue,\n\tonChange,\n\tvariationId,\n\tmax_count,\n\tloadingRecord,\n\tmin = 1,\n\tdisable = true,\n\tplus,\n\tminus\n}) {\n\treturn (\n\t\t<div className=\"form-control input-changer-count d-flex p-3 justify-content-between\">\n\t\t\t<span\n\t\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tonChange(\n\t\t\t\t\t\tparseInt(initValue) - 1 >= min\n\t\t\t\t\t\t\t? parseInt(initValue) - 1\n\t\t\t\t\t\t\t: 0,\n\t\t\t\t\t\tvariationId,\n\t\t\t\t\t\tmax_count\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{minus ? minus : \"-\"}\n\t\t\t</span>\n\t\t\t{loadingRecord ? (\n\t\t\t\t<div className=\"loader\">\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<input\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\tborder: \"none\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\toutline: \"none\"\n\t\t\t\t\t}}\n\t\t\t\t\tdisabled={disable}\n\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\tparseInt(e.target.value) >= min\n\t\t\t\t\t\t\t\t? parseInt(e.target.value)\n\t\t\t\t\t\t\t\t: min,\n\t\t\t\t\t\t\tvariationId,\n\t\t\t\t\t\t\tmax_count\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tvalue={!initValue || initValue < 1 ? 1 : initValue}\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<span\n\t\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tonChange(parseInt(initValue) + 1, variationId, max_count)\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{plus ? plus : \"+\"}\n\t\t\t</span>\n\t\t</div>\n\t);\n}\n\nexport default InputChangerCount;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction EmtyCart() {\n\tconst { t } = useTranslation();\n\n\treturn (\n\t\t<div className=\"no-data mt-4\">\n\t\t\t<h3>{t(\"empty-cart\")}</h3>\n\t\t\t<img\n\t\t\t\tsrc=\"/assets/images/wooz/no-info.png\"\n\t\t\t\talt=\"no-data\"\n\t\t\t\tclassName=\"no-data-img\"\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default EmtyCart;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Modal from \"react-modal\";\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"40%\",\n\t\ttransform: \"translateY(-60%)\",\n\t\tpadding: \"20px\"\n\t},\n\toverlay: {\n\t\tbackgroundColor: \"rgba(77,77,77,0.6)\",\n\t\tzIndex: \"10000\"\n\t}\n};\n\nexport default function AcseptModal({\n\ttitle,\n\tacseptModal,\n\tsetAcseptModal,\n\tisClicked\n}) {\n\tconst { t } = useTranslation();\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={acseptModal.open}\n\t\t\tclassName=\"modal-dialog acsept-modal\"\n\t\t\tonRequestClose={() => setAcseptModal({ open: false })}\n\t\t\tstyle={customStyles}\n\t\t\tid=\"acsept-modal\"\n\t\t>\n\t\t\t<div className=\"modal-content\">\n\t\t\t\t<h2 className=\"question\">{t(title)}</h2>\n\t\t\t\t<div className=\"acsept-buttons\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"acsept-no\"\n\t\t\t\t\t\tonClick={() => setAcseptModal({ open: false })}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t(\"no\")}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"acsept-yes\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tisClicked(acseptModal.item);\n\t\t\t\t\t\t\tsetAcseptModal({ open: false });\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t(\"okay_\")}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFkSURBVHgBlVShUsNAEN2mpgIRgaiIOIGoqKhAVCIQCASCD4jkkxAIJBJRgaxEICIjKiIqIhAViAgE+yZv567tpkzfzMtN7nbf7u1uMhIfQbngmnOvJWtyD6ODdzg9UOAUdspXrkdCU2WpnCg75aeySoyn5A0DdhRrUyEcPFEEzh809DCh2JI2zwg25iFELpjFSvmbOMKhUG75jrMNgxfMssr0MeMmrrB2MrgjD2FZB9CEhCJD1/FgdQQWGVMDWjkfFddwjlDu7FlH80z+hxmXEstwBHQNE2xt92qEfXQ0KOfca7jiNtfKdixx0LrEIAXabZ9EIGGLcbhilptMYsGWzGwIa+Wb9LXsJA4mUCOjHaNc8gr1CbFv5RfFbpkR/Fc22Y30tSoYaSv7050C5/fS1waZvWA1IWxg7OcSi2qF/+GK9uP6jwxoHy2ydH8jpfgzk6JRvsvAbyTFjLSOCp0gUInT3T9lF1YJfZwXGgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAASCAYAAABB7B6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC6SURBVHgBtZTRDYMwDESPTsAIHoXNyAZkA7pJR2KENmlrxVSxYhv1pPvKC2cH6YCP1uKj+Glw5TY4tBk//OtkDeDJycgT2iYm8UQeaU+3F88afDWAvWtwJECK0J57HcGRgKpFnC0jOBJQldD+CY3gSEDV/Xv+sMCRgJmZSYATfAGjO2/mhj+rF8C9ZO2cIS+rotdLqXOHzzSeIOokdSASkMUan3mijHNdXw04lM2722To8vKnbdQpPPwLRZ6d/uRC9aQAAAAASUVORK5CYII=\"","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tsetUserAddresses,\n\tsetUserData,\n\tsetUserLocation\n} from \"../../../actions/user\";\nimport { getAddressByCoordinate } from \"../../../api/mapAPI\";\nimport {\n\taddNewShippingAddress,\n\tremoveShippingAddress\n} from \"../../../api/user\";\n\nimport AcseptModal from \"../../../components/features/modal/AcseptModal\";\n\nexport default function AddressList({ shippingAddress }) {\n\tconst dispatch = useDispatch();\n\tconst { location } = useSelector(state => state.user);\n\tconst { token } = useSelector(state => state.user.tokenData);\n\tconst user = useSelector(state => state.user.user);\n\tconst tokenData = useSelector(state => state.user.tokenData);\n\tconst [acseptModal, setAcseptModal] = useState({ item: null, open: false });\n\n\tfunction isClicked(address) {\n\t\tremoveUserAddress(address.id, token);\n\t}\n\tasync function changeAddress(address) {\n\t\tif (address.latitude && address.longitude) {\n\t\t\tconst n = {\n\t\t\t\tcoordinate: {\n\t\t\t\t\tlatitude: address.latitude,\n\t\t\t\t\tlongitude: address.longitude\n\t\t\t\t},\n\t\t\t\taddress: {\n\t\t\t\t\t...address,\n\t\t\t\t\tname: address.addressLine1.split(\",\").slice(2)\n\t\t\t\t},\n\t\t\t\thistory: location.history\n\t\t\t\t\t? [...location.history]\n\t\t\t\t\t: location.history\n\t\t\t};\n\t\t\tdispatch(setUserLocation({ ...n }));\n\t\t} else {\n\t\t\tconst data = await getAddressByCoordinate(\n\t\t\t\taddress.latitude,\n\t\t\t\taddress.longitude\n\t\t\t);\n\t\t\tconst res = await addNewShippingAddress(data, token);\n\t\t\tdispatch(setUserAddresses(res));\n\t\t\tdispatch(setUserLocation({ ...data }));\n\t\t}\n\t}\n\n\tfunction removeUserAddress(id) {\n\t\tdispatch(\n\t\t\tsetUserData(\n\t\t\t\t{\n\t\t\t\t\t...user,\n\t\t\t\t\taddresses: user.addresses.filter(\n\t\t\t\t\t\taddress => address.id !== id\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\ttokenData\n\t\t\t)\n\t\t);\n\t\tremoveShippingAddress(id, token);\n\t}\n\n\treturn shippingAddress.map((address, i) => (\n\t\t<div\n\t\t\tkey={i}\n\t\t\tonClick={() => {\n\t\t\t\tchangeAddress(address);\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"shipping-address\">\n\t\t\t\t<p className=\"mb-0\">{address.addressLine1}</p>\n\t\t\t\t<i\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tsetAcseptModal({\n\t\t\t\t\t\t\titem: address,\n\t\t\t\t\t\t\topen: true\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tclassName=\"icon-close\"\n\t\t\t\t></i>\n\t\t\t</div>\n\t\t\t{acseptModal.open ? (\n\t\t\t\t<AcseptModal\n\t\t\t\t\ttitle=\"are_you_sure\"\n\t\t\t\t\tisClicked={isClicked}\n\t\t\t\t\tacseptModal={acseptModal}\n\t\t\t\t\tsetAcseptModal={setAcseptModal}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</div>\n\t));\n}\n","import React from \"react\";\n\nfunction isSuccessDate(time) {\n\tif (!time) return null;\n\tconst startTime = time?.startTime?.date.split(\" \")[1].slice(0, 5);\n\tconst endTime = time?.endTime?.date.split(\" \")[1].slice(0, 5);\n\tconst currentData = new Date().getHours();\n\tconst isSuccessTime =\n\t\tcurrentData >= startTime?.slice(0, 2) &&\n\t\tcurrentData < endTime?.slice(0, 2);\n\tvar discountTime = 0;\n\tif (currentData < startTime?.slice(0, 2)) {\n\t\tdiscountTime = startTime?.slice(0, 2) - currentData;\n\t} else {\n\t\tdiscountTime = 24 - currentData + Number(startTime?.slice(0, 2));\n\t}\n\n\treturn !isSuccessTime ? (\n\t\t<div className=\"warning_sell_time\">\n\t\t\t<p className=\"warning_title\">\n\t\t\t\tДанный заказ будет обработан через {discountTime} часов\n\t\t\t</p>\n\t\t\t<div className=\"d-block\">\n\t\t\t\t<div className=\"d-flex align-items-center justify-content-between\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p className=\"mb-0\">Рабочее время заведения</p>\n\t\t\t\t\t\t<p className=\"mb-0\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={require(\"../../../assets/images/Time.png\")}\n\t\t\t\t\t\t\t\twidth=\"15\"\n\t\t\t\t\t\t\t\theight=\"15\"\n\t\t\t\t\t\t\t\talt=\"time\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\tПн - Вс c {startTime ? startTime : \"10:00\"} до{\" \"}\n\t\t\t\t\t\t\t{endTime ? endTime : \"22:00\"}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc=\"/assets/images/exp24/warning.png\"\n\t\t\t\t\t\talt=\"warning icon\"\n\t\t\t\t\t\twidth={22}\n\t\t\t\t\t\theight={22}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t) : null;\n}\n\nexport default isSuccessDate;\n","import React, { Fragment, useState } from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { useTranslation } from \"react-i18next\";\nimport Loader from \"../../loaders/loader\";\n\nconst validate = values => {\n\tconst errors = {};\n\n\tif (!values.card_number || values.card_number.length !== 19) {\n\t\terrors.card_number = \"Номер карты должен состоять из 16 цифр\";\n\t}\n\tif (values?.card_number?.length >= 19) {\n\t\tvalues.card_number = values.card_number.substring(0, 19);\n\t}\n\tif (\n\t\tvalues.card_validity_period_month &&\n\t\t(values.card_validity_period_month.length > 2 ||\n\t\t\tvalues.card_validity_period_month < 0 ||\n\t\t\tvalues.card_validity_period_month > 12)\n\t) {\n\t\tvalues.card_validity_period_month = 12;\n\t}\n\tif (values && !parseInt(values.card_validity_period_month)) {\n\t\terrors.card_validity_period_month = \"Месяц должен состоять из 2 цифр\";\n\t}\n\tif (values.card_validity_period_month < 0) {\n\t\terrors.card_validity_period_month = \"Должно быть положительное число\";\n\t}\n\tif (\n\t\t(values.card_validity_period_year &&\n\t\t\tvalues.card_validity_period_year.length > 2) ||\n\t\tvalues.card_validity_period_year < 0 ||\n\t\tvalues.card_validity_period_y > 22\n\t) {\n\t\tvalues.card_validity_period_year = 22;\n\t}\n\tif (values && !parseInt(values.card_validity_period_year)) {\n\t\terrors.card_validity_period_year = \"Год должен состоять из 2 цифр\";\n\t}\n\treturn errors;\n};\n\nconst renderField = props => {\n\tlet {\n\t\tinput,\n\t\tplaceholder,\n\t\tclassName,\n\t\tid,\n\t\tdisabled,\n\t\ttype,\n\t\tmeta: { touched, error }\n\t} = props;\n\n\tif (touched) {\n\t\tif (error) {\n\t\t\tclassName = className + \" warning\";\n\t\t} else {\n\t\t\tclassName = className + \" correct\";\n\t\t}\n\t}\n\treturn (\n\t\t<Fragment>\n\t\t\t<input\n\t\t\t\t{...input}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tclassName={className}\n\t\t\t\tid={id}\n\t\t\t\ttype={type}\n\t\t\t/>\n\t\t\t{touched && error && <span>{error}</span>}\n\t\t</Fragment>\n\t);\n};\n\nconst cardInput = props => {\n\tlet {\n\t\tinput,\n\t\tplaceholder,\n\t\tclassName,\n\t\tdisabled,\n\t\tid,\n\n\t\tmeta: { touched, error }\n\t} = props;\n\n\tif (touched) {\n\t\tif (error) {\n\t\t\tclassName = className + \" warning\";\n\t\t} else {\n\t\t\tclassName = className + \" correct\";\n\t\t}\n\t}\n\treturn (\n\t\t<Fragment>\n\t\t\t<input\n\t\t\t\t{...input}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tclassName={className}\n\t\t\t\tid={id}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tonChange={e => {\n\t\t\t\t\te.target.value =\n\t\t\t\t\t\te.target.value\n\t\t\t\t\t\t\t.match(/\\d/g)\n\t\t\t\t\t\t\t?.join(\"\")\n\t\t\t\t\t\t\t.slice(0, 16)\n\t\t\t\t\t\t\t.match(/.{1,4}/g)\n\t\t\t\t\t\t\t.join(\" \") || \"\";\n\t\t\t\t\tinput.onChange(e);\n\t\t\t\t}}\n\t\t\t\ttype={\"text\"}\n\t\t\t/>\n\t\t\t{touched && error && <span>{error}</span>}\n\t\t</Fragment>\n\t);\n};\n\nfunction typing(e) {\n\tif (e.target.value.length === 19) {\n\t\tdocument.getElementById(\"card_validity_period_month\").focus();\n\t}\n\tif (\n\t\tdocument.getElementById(\"card_number_input\").value.length >= 19 &&\n\t\tdocument.getElementById(\"card_validity_period_month\").value.length >= 2\n\t) {\n\t\tdocument.getElementById(\"card_validity_period_year\").focus();\n\t}\n\tif (\n\t\tdocument.getElementById(\"card_number_input\").value.length >= 19 &&\n\t\tdocument.getElementById(\"card_validity_period_year\").value.length >= 2\n\t) {\n\t\tdocument.getElementById(\"add_card_submit-button\").focus();\n\t}\n}\n\nfunction AddNew({ handleSubmit }) {\n\tconst [loading, setLoading] = useState(false);\n\n\tconst { t } = useTranslation();\n\treturn (\n\t\t<form\n\t\t\tclassName=\"add_new_card text-center\"\n\t\t\tonSubmit={handleSubmit}\n\t\t\tnoValidate\n\t\t>\n\t\t\t<h3>{t(\"add-card\")}</h3>\n\t\t\t<Field\n\t\t\t\tclassName=\"new_card_input\"\n\t\t\t\ttype=\"number\"\n\t\t\t\tname=\"card_number\"\n\t\t\t\tid=\"card_number_input\"\n\t\t\t\tonChange={e => typing(e)}\n\t\t\t\tdisabled={loading}\n\t\t\t\tvalue=\"card_number\"\n\t\t\t\tcomponent={cardInput}\n\t\t\t\tplaceholder={t(\"card_number\")}\n\t\t\t\trequired\n\t\t\t/>\n\t\t\t<div className=\"new_card_inputs\">\n\t\t\t\t<div className=\"d-flex flex-column\">\n\t\t\t\t\t<Field\n\t\t\t\t\t\tclassName=\"new_card_input\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tname=\"card_validity_period_month\"\n\t\t\t\t\t\tvalue=\"card_validity_period_month\"\n\t\t\t\t\t\tcomponent={renderField}\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tonChange={e => (e.target.value > 0 ? typing(e) : false)}\n\t\t\t\t\t\tplaceholder={t(\"month\")}\n\t\t\t\t\t\tid={\"card_validity_period_month\"}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<span>/</span>\n\t\t\t\t<div className=\"d-flex flex-column\">\n\t\t\t\t\t<Field\n\t\t\t\t\t\tclassName=\"new_card_input\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tid={\"card_validity_period_year\"}\n\t\t\t\t\t\tname=\"card_validity_period_year\"\n\t\t\t\t\t\tonChange={e => typing(e)}\n\t\t\t\t\t\tvalue=\"card_validity_period_year\"\n\t\t\t\t\t\tcomponent={renderField}\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tplaceholder={t(\"year\")}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\ttype=\"submit\"\n\t\t\t\tonClick={() => setLoading(true)}\n\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\tid=\"add_card_submit-button\"\n\t\t\t>\n\t\t\t\t{loading ? <Loader /> : t(\"add\")}\n\t\t\t</button>\n\t\t</form>\n\t);\n}\n\nexport default reduxForm({\n\tform: \"addNewCardForm\",\n\tvalidate\n})(AddNew);\n","import React from \"react\";\nimport { Fragment } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Field, reduxForm } from \"redux-form\";\nimport i18n from \"../../../../i18n\";\n\nconst validate = values => {\n\tconst errors = {};\n\tif (!values.code_number || values.code_number.length !== 4) {\n\t\terrors.card_number = i18n.t(\"add_card_error\");\n\t}\n\treturn errors;\n};\n\nconst renderField = props => {\n\tlet {\n\t\tinput,\n\t\ttype,\n\t\tplaceholder,\n\t\tclassName,\n\t\tmeta: { touched, error }\n\t} = props;\n\n\tif (touched) {\n\t\tif (error) {\n\t\t\tclassName = className + \" warning\";\n\t\t} else {\n\t\t\tclassName = className + \" correct\";\n\t\t}\n\t}\n\treturn (\n\t\t<Fragment>\n\t\t\t<input\n\t\t\t\t{...input}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tclassName={className}\n\t\t\t\ttype={type}\n\t\t\t/>\n\t\t\t{touched && error && <span>{error}</span>}\n\t\t</Fragment>\n\t);\n};\n\nfunction Verify({ handleSubmit }) {\n\tconst { t } = useTranslation();\n\treturn (\n\t\t<form\n\t\t\tclassName=\"verify_modal\"\n\t\t\tname=\"verify-form\"\n\t\t\tonSubmit={handleSubmit}\n\t\t\tnoValidate\n\t\t>\n\t\t\t<div className=\"add_new_card_code\">\n\t\t\t\t<h3>{t(\"enter_code3\")}</h3>\n\t\t\t\t<Field\n\t\t\t\t\tclassName=\"code_input\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tname=\"code_number\"\n\t\t\t\t\tvalue=\"code_number\"\n\t\t\t\t\tcomponent={renderField}\n\t\t\t\t\tplaceholder={t(\"code\")}\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<button className=\"btn btn-primary\" type=\"submit\">\n\t\t\t\t\t{t(\"bind\")}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n}\nexport default reduxForm({\n\tform: \"verifyCard\",\n\tvalidate\n})(Verify);\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { closeModal } from \"../../../../actions/modal\";\nimport {\n\taddUserCard,\n\tdeleteUserCard,\n\tgetUserCard,\n\tverifyCard,\n} from \"../../../../api/user\";\nimport AddNew from \"./AddNew\";\nimport Verify from \"./Verify\";\nimport market from \"../../../../config/market\";\n\nexport default function AddUserCard({\n\tsetUserCards,\n\tuserCardTab,\n\tyuuKassa,\n\tmultiCard,\n\tcash,\n\tuserCards,\n\tuserCard,\n\tsetUserCard,\n\tonChangePaymentMethod,\n\tsetPaymentMethod,\n}) {\n\tconst customStyles = {\n\t\tcontent: {\n\t\t\tmaxWidth: \"80%\",\n\t\t\ttransform: \"translateY(-50%)\",\n\t\t\t// padding: `${userCardTab ? `0px` : `20px`}`\n\t\t},\n\t\toverlay: {\n\t\t\tzIndex: 10000,\n\t\t\tbackgroundColor: \"rgba(77,77,77,0.6)\",\n\t\t},\n\t};\n\n\tconst dispatch = useDispatch();\n\tconst [addNewCard, setAddNewCard] = useState(false);\n\tconst [userCardId, setUserCardId] = useState(0);\n\tconst [code, setCode] = useState(false);\n\tconst [newCard, setNewCard] = useState(false);\n\tconst { modal, showModal } = useSelector((state) => state.modal);\n\tconst { token } = useSelector((state) => state.user.tokenData);\n\tconst { t } = useTranslation();\n\n\tfunction close() {\n\t\tsetCode(false);\n\t\tsetAddNewCard(false);\n\t\tdispatch(closeModal(\"usercard\"));\n\t}\n\n\tconst submit = (values) => {\n\t\taddUserCard(\n\t\t\tvalues.card_number,\n\t\t\tvalues.card_validity_period_year +\n\t\t\t\tvalues.card_validity_period_month,\n\t\t\ttoken\n\t\t)\n\t\t\t.then((res) => {\n\t\t\t\tsetNewCard(res);\n\t\t\t\tsetCode(true);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(e);\n\t\t\t\tclose();\n\t\t\t\ttoast.error(t(\"uncurrent_card\"), {\n\t\t\t\t\tposition: \"top-left\",\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tconst verifysubmit = (values) => {\n\t\tverifyCard(values.code_number, newCard.id, token)\n\t\t\t.then(() => {\n\t\t\t\tuserCardId && deleteUserCard(userCardId);\n\t\t\t\ttoast.success(t(\"card_added\"), { position: \"top-left\" });\n\t\t\t\tclose();\n\t\t\t\tgetUserCard(token).then((res) => {\n\t\t\t\t\tsetUserCards(res);\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\ttoast.error(t(\"uncurrent_pass\"), {\n\t\t\t\t\tposition: \"top-left\",\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={showModal && \"usercard\" === modal}\n\t\t\tstyle={customStyles}\n\t\t\tonRequestClose={close}\n\t\t\tclassName=\"usercard-modal\"\n\t\t\tid=\"usercard-modal\"\n\t\t>\n\t\t\t<div className={`cash-div`}>\n\t\t\t\t<h3\n\t\t\t\t\tclassName={`text-center font-weight-bold ${\n\t\t\t\t\t\tuserCardTab ? `d-none` : ``\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t{t(\"select-payment\")}\n\t\t\t\t</h3>\n\n\t\t\t\t<form name=\"cards-form\" className=\"form-group\">\n\t\t\t\t\t<span\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetUserCardId(0);\n\t\t\t\t\t\t\tsetAddNewCard(true);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttextDecoration: \"underline\",\n\t\t\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={`add-new-card ${\n\t\t\t\t\t\t\tmarket.config.home === 6 ? \"\" : \"ml-auto\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"icon-plus mr-2\"></i>\n\t\t\t\t\t\t<span>{t(\"add-card\")}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t{userCards?.map((card) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={card.id} className=\"usercart-content\">\n\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\thtmlFor={card.id}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetUserCard(card);\n\t\t\t\t\t\t\t\t\t\tsetPaymentMethod(multiCard);\n\t\t\t\t\t\t\t\t\t\tonChangePaymentMethod(multiCard);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tname=\"payment\"\n\t\t\t\t\t\t\t\t\t\tid={card.id}\n\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\t\tdefaultChecked={\n\t\t\t\t\t\t\t\t\t\t\tuserCard\n\t\t\t\t\t\t\t\t\t\t\t\t? userCard.id === card.id\n\t\t\t\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span className=\"radio\">\n\t\t\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span>{card.name}</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetUserCardId(card.id);\n\t\t\t\t\t\t\t\t\t\tsetAddNewCard(true);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\ttextDecoration: \"underline\",\n\t\t\t\t\t\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\tmarket.config.home === 6\n\t\t\t\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t\t\t\t: \"ml-auto\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"edit\")}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t{yuuKassa ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\thtmlFor=\"yoo\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetUserCard(yuuKassa);\n\t\t\t\t\t\t\t\t\tsetPaymentMethod(yuuKassa);\n\t\t\t\t\t\t\t\t\tonChangePaymentMethod(yuuKassa);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tname=\"payment\"\n\t\t\t\t\t\t\t\t\tid=\"yoo\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tdefaultChecked={\n\t\t\t\t\t\t\t\t\t\tuserCard\n\t\t\t\t\t\t\t\t\t\t\t? userCard.id === yuuKassa.id\n\t\t\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"radio\">\n\t\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{yuuKassa?.name}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\n\t\t\t\t\t{/* {market.config.home === 8 ? null : ( */}\n\t\t\t\t\t{cash ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\thtmlFor=\"cash\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetUserCard(cash);\n\t\t\t\t\t\t\t\t\tsetPaymentMethod(cash);\n\t\t\t\t\t\t\t\t\tonChangePaymentMethod(cash);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tname=\"payment\"\n\t\t\t\t\t\t\t\t\tid=\"cash\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tdefaultChecked={\n\t\t\t\t\t\t\t\t\t\tuserCard\n\t\t\t\t\t\t\t\t\t\t\t? userCard?.id === cash?.id\n\t\t\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"radio\">\n\t\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{t(\"cash\")}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{/* )} */}\n\t\t\t\t</form>\n\n\t\t\t\t<button className=\"btn btn-primary\" onClick={close}>\n\t\t\t\t\t{t(\"save\")}\n\t\t\t\t</button>\n\t\t\t\t{(addNewCard || userCardTab) && <AddNew onSubmit={submit} />}\n\t\t\t\t{code && <Verify onSubmit={verifysubmit} />}\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFVSURBVHgBtZVLTsMwEIZnooC6I9wgHCU34AithEBILIi64iERFqEr8BIVFu0RuAFHgCOUE9BlpYoYj2Mj201Cnr9kZWKPPo9/Ow5CB83Y613Gs0uKkcPyenoWm+MILZWylwVwPrY6OS5vpqcT/epBCxng1RazI080ikX54/RRjCk1rtwBR0l8vqL+GXsOM+69izDUK2gEt6xwLDAm+BBhsMX9w9q2mBVDgQWkK7UKkr/3c1AL7lohPI6KJpB5omoau704+fKbgg2PI+lxPkF+NIw8ysE2YC1rE3NZeV5bMIk8Fh/PZxG4FF4HrPM4wnFZHnYB/5eHQ4EteN/gP/gQYJL3wOZsCLCEcw7yPu4bLOE66BtswfsGV8K7gkmYPs2/Qd1kzlionmvVyiEc3tz/J8kXG3qPCMyAuQpUK5W6Anbg8pwnbBHAZlMJqNRotE7iyc7qfgHZKFo+j1FgmwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAXCAYAAAARIY8tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKqSURBVHgBtVU9ctNQEN6VRAKhcW6gMnaDMuBAh0ziOs4J7Jwg4QSJT0BygjgnwNQxQTQMYBhEgz1DgTgB7jzE0lt2nyyNFCsGG/hmbElPet/+fPt2EebAdtzSHctqgQGPAdABIFvWkWBEAD6BOoeJ8oa+F9zEgTe9qGztHAHBISGU4DdApI76GbWLDM0Y2HBcG1es53zryDMReOzxC7LC7vBtTFCpug4p0yYTGgjYnFIFdDWpXTeCs+S3XsWpoIAU7g8/9DyYg41HvEeZvAd5D4xCwtrX/oVfaKC8tfMp9pzJjaiWePwnKFfrHRanKZGMryabge+NZN1IPak+aS1LLhj0L1qslyfRr62az5L11ACieSRXImovSp4Cw30kGhFhS9KdGijf324keR/2LzuwJMQxLt9zTbzC5c2wtGELdrlaJIzT7IbKw/oZR9TKuJjLbxHY+y4iHHCJ7/LjsY5AAdr6ZQR+9mM1PVjZlXnkgtthqDlYD13muorKW/VvOkWWsgdvLr/DXyLLZ8B/hhVfSIcdTsx1vqQRzGpQhCJd4tRKNnQEBPRZWzPIzW6d1aAIeV02Huy42izFesYRKOxwwTb5W1H+JPl4+K5XgwVhmNTkSmKn8bV+lj9RXg4IS+4mHiwDOVxyyOSezMlJasDnEMmQYy5HARuwJKZdmEuUOkk3MBLLvNrIWl4UlWr9DKa9DDBqJ+taA1o1GixKajmdZETB4OPL7jziZH5woTiSZmXmG2X+oEW0hybey00yHjgyGiMw/aTPywxQynRMwgPRLaaiACna+9L3ct0A4/C2fxDi9dHIH1JpOkjmg/B0fHdyHHizbURrEBmkc6ZbLaeJFNQG73ub47Vok0jtM0M3Npj6Fcgo5bJ+Ol4L13kWHBaR52C7bkl+8I/xC3w/Z6E2j1YjAAAAAElFTkSuQmCC\"","import React from \"react\";\n\nconst MainContext = React.createContext();\n\nexport default MainContext;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { getPrice, getImageUrl } from \"../../../utils/oxMethods\";\nimport { Link } from \"react-router-dom\";\nimport { quantityInputs } from \"../../../utils\";\nimport MainContext from \"../MainContext\";\nimport InputChangerCount from \"../../../components/common/InputChangerCount\";\nimport { getSellLocation } from \"../helpers\";\nimport Loader from \"../../../components/features/loaders/loader\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction SellRecord({ sellRecord, product, locations }) {\n\tconst { removeFromCart, onChange } = useContext(MainContext);\n\tconst [loadingRecord, setLoadingRecord] = useState(false);\n\tconst { t } = useTranslation();\n\n\tuseEffect(() => {\n\t\tquantityInputs();\n\t});\n\n\treturn (\n\t\t<div className=\"cart-item cart-supplier-info p-0 pl-5 pr-5 flex-column align-items-start\">\n\t\t\t{sellRecord.message ? (\n\t\t\t\t<div className=\"not-count-message\">\n\t\t\t\t\t<p>{sellRecord.message}</p>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t<div className=\"row cart-product-card w-100\">\n\t\t\t\t<div className=\"col-lg-6 d-flex cart-product-info ml-0\">\n\t\t\t\t\t<div className=\"cart-item-img pl-0 ml-0\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tclassName=\"product-media\"\n\t\t\t\t\t\t\tto={`${process.env.PUBLIC_URL}/product/${sellRecord.variation}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\t\t\t\tobjectFit: \"cover\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\tproduct\n\t\t\t\t\t\t\t\t\t\t? getImageUrl(product.images[0])\n\t\t\t\t\t\t\t\t\t\t: \"#\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\talt=\"Product\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"cart-item-infoblock w-100\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tclassName=\"text-dark\"\n\t\t\t\t\t\t\tto={`${process.env.PUBLIC_URL}/product/${sellRecord.variation}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{sellRecord.variationName}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t{product ? (\n\t\t\t\t\t\t\t\tproduct.properties.map((prop, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"cart-variation-pr\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span>{prop.name}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{prop.value}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"short-line-shimmer\"></div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"cart-variation-pr\">\n\t\t\t\t\t\t\t{locations &&\n\t\t\t\t\t\t\t\tgetSellLocation(locations, sellRecord.location)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"cart-price-mobileblock\">\n\t\t\t\t\t\t\t<div className=\"cart-price-perone\">\n\t\t\t\t\t\t\t\t{getPrice(sellRecord.finalPrice, true)}{\" \"}\n\t\t\t\t\t\t\t\t{t(\"for-unit\")}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"cart-amount-product\">\n\t\t\t\t\t\t\t\t{getPrice(sellRecord.total, true)}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"mob-product-action\">\n\t\t\t\t\t\t\t\t{loadingRecord ? (\n\t\t\t\t\t\t\t\t\t<div className=\"loading-count\">\n\t\t\t\t\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<InputChangerCount\n\t\t\t\t\t\t\t\t\t\tinitValue={sellRecord.count}\n\t\t\t\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\t\t\tsellRecord.id,\n\t\t\t\t\t\t\t\t\t\t\t\tsellRecord.variation,\n\t\t\t\t\t\t\t\t\t\t\t\tsetLoadingRecord\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn-remove\"\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tremoveFromCart(\n\t\t\t\t\t\t\t\t\t\t\tsellRecord.id,\n\t\t\t\t\t\t\t\t\t\t\tsellRecord.variation\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i className=\"i-icon icon-times-circle-o\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-lg-3 priceblock-mobile\">\n\t\t\t\t\t<div className=\"cart-price-perone\">\n\t\t\t\t\t\t{getPrice(sellRecord.finalPrice, true)} {t(\"for-unit\")}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"cart-amount-product\">\n\t\t\t\t\t\t{getPrice(sellRecord.total, true)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-lg-2 cart-product-actions cart-product-actions-2\">\n\t\t\t\t\t{loadingRecord ? (\n\t\t\t\t\t\t<div className=\"loading-count\">\n\t\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<InputChangerCount\n\t\t\t\t\t\t\tinitValue={sellRecord.count}\n\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\tsellRecord.id,\n\t\t\t\t\t\t\t\t\tsellRecord.variation,\n\t\t\t\t\t\t\t\t\tsetLoadingRecord\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn-remove\"\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tremoveFromCart(sellRecord.id, sellRecord.variation)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"i-icon icon-times-circle-o\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default SellRecord;\n","import React from \"react\";\nimport SellRecord from \"./SellRecord\";\n\nfunction Sell({ sell, extraDataSell }) {\n\treturn (\n\t\t<div className={sell.available ? \"active-sell\" : \"unactive-sell\"}>\n\t\t\t{sell.sellRecords\n\t\t\t\t.filter((s) => !s.deleted)\n\t\t\t\t.map((sellRecord, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<SellRecord\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tsellRecord={sellRecord}\n\t\t\t\t\t\t\tlocations={extraDataSell?.locations}\n\t\t\t\t\t\t\tproduct={extraDataSell?.variations.find(\n\t\t\t\t\t\t\t\t(product) => product.id === sellRecord.variation\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t</div>\n\t);\n}\n\nexport default Sell;\n","import React, { useEffect } from \"react\";\n// import market from \"../../../config/market\";\n\nfunction ShippingServices({\n\tlist,\n\tvalue,\n\tonChange,\n\tsetPickUp,\n\taddClass = \"form-control\"\n}) {\n\t// var newList = [];\n\t// if (market.config.home === 9) {\n\t// \tnewList = list.filter(item =>\n\t// \t\tvalue === 2 ? item.id !== 9 : value === 9 ? item.id !== 2 : list\n\t// \t);\n\t// \tconsole.log(newList);\n\t// }\n\n\tuseEffect(() => {\n\t\tif (setPickUp) {\n\t\t\tsetPickUp(list.find(s => s.id === parseInt(value))?.pickup);\n\t\t}\n\t}, [parseInt(value)]);\n\n\treturn (\n\t\tlist && (\n\t\t\t<form className=\"form-group col-lg-6 col-md-6 col-12\">\n\t\t\t\t<select\n\t\t\t\t\tclassName={addClass}\n\t\t\t\t\trequired={true}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={e => onChange(e.target.value)}\n\t\t\t\t>\n\t\t\t\t\t{// market.config.home === 9\n\t\t\t\t\t// \t? newList.map(service => (\n\t\t\t\t\t// \t\t\t<option value={service.id} key={service.id}>\n\t\t\t\t\t// \t\t\t\t{service.name}\n\t\t\t\t\t// \t\t\t</option>\n\t\t\t\t\t// \t  ))\n\t\t\t\t\t// \t:\n\t\t\t\t\tlist.map(service => (\n\t\t\t\t\t\t<option value={service.id} key={service.id}>\n\t\t\t\t\t\t\t{service.name}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t</select>\n\t\t\t</form>\n\t\t)\n\t);\n}\n\nexport default ShippingServices;\n","import React, { useContext } from \"react\";\nimport Sell from \"./Sell\";\nimport MainContext from \"../MainContext\";\nimport { formatterCurrency } from \"../../../utils/string\";\nimport ShippingServices from \"./ShippingServices\";\nimport { dividerPro } from \"../helpers\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction getDeliveryTimeReadable(durationMinutes) {\n\tlet time = {\n\t\tminut: 0,\n\t\thour: 0,\n\t\tday: 0\n\t};\n\tlet data = dividerPro(durationMinutes, 60);\n\ttime.minute = data.remain;\n\n\tif (data.result) {\n\t\tlet { result, remain } = dividerPro(data.result, 24);\n\t\ttime.day = result;\n\t\ttime.hour = remain;\n\t}\n\treturn time;\n}\n\nfunction timeRender({ day, minute, hour }) {\n\tconst { t } = useTranslation();\n\tlet str =\n\t\t(day\n\t\t\t? day === 1\n\t\t\t\t? `${day} ${t(\"day\")}`\n\t\t\t\t: `${day} ${t(\"day2\")} `\n\t\t\t: \"\") +\n\t\t(hour\n\t\t\t? hour === 1\n\t\t\t\t? `${hour} ${t(\"hour\")}`\n\t\t\t\t: `${hour} ${t(\"hour2\")}  `\n\t\t\t: \"\") +\n\t\t(minute ? `${minute} ${t(\"minute2\")} ` : \"\");\n\n\treturn str;\n}\n\nfunction SellGroup({ sellGroup, indexOfSellGroup }) {\n\tconst {\n\t\tshippingServices,\n\t\tonChangeShippingService,\n\t\textraDataSell\n\t} = useContext(MainContext);\n\tconst currenService = shippingServices.find(\n\t\ts => s.id === sellGroup.shippingService\n\t);\n\tconst date = null;\n\n\treturn (\n\t\t<div className=\"cart-block-main mt-2\">\n\t\t\t<div className=\"filter-item\" key=\"cat\">\n\t\t\t\t<div className=\"cart-supplier-info\">\n\t\t\t\t\t<div className=\"p-0 col-lg-6 col-md-3 col-12 d-flex\">\n\t\t\t\t\t\t<div className=\"custom-control custom-checkbox m-0 d-flex align-items-center\">\n\t\t\t\t\t\t\t<div className=\"delivery-block-cart\">\n\t\t\t\t\t\t\t\t<p className=\"m-0\">\n\t\t\t\t\t\t\t\t\t{formatterCurrency(sellGroup.shippingPrice)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-lg-6 col-md-9 col-12 delivery-block-cart d-flex align-items-center justify-content-end\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-md-6 col-sm-12\">\n\t\t\t\t\t\t\t\t{!currenService.pickup &&\n\t\t\t\t\t\t\t\t\ttimeRender(\n\t\t\t\t\t\t\t\t\t\tgetDeliveryTimeReadable(\n\t\t\t\t\t\t\t\t\t\t\tsellGroup.duration\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ShippingServices\n\t\t\t\t\t\t\t\tlist={shippingServices}\n\t\t\t\t\t\t\t\tvalue={sellGroup.shippingService}\n\t\t\t\t\t\t\t\tonChange={value => {\n\t\t\t\t\t\t\t\t\tonChangeShippingService(\n\t\t\t\t\t\t\t\t\t\tsellGroup.sellIds,\n\t\t\t\t\t\t\t\t\t\tparseInt(value),\n\t\t\t\t\t\t\t\t\t\tindexOfSellGroup,\n\t\t\t\t\t\t\t\t\t\tdate\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<hr className=\"m-0\" />\n\t\t\t\t{sellGroup.sells.map((sell, i) => (\n\t\t\t\t\t<Sell key={i} sell={sell} extraDataSell={extraDataSell} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default SellGroup;\n","import React from \"react\";\nimport SellGroup from \"./SellGroup\";\n\nexport default function SellGroups({ sellsGroups }) {\n\treturn sellsGroups.map((sellGroup, i) => {\n\t\treturn <SellGroup key={i} sellGroup={sellGroup} indexOfSellGroup={i} />;\n\t});\n}\n","import React, { useContext } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { formatterCurrency } from \"../../../utils/string\";\nimport MainContext from \"../MainContext\";\nimport { calculateSellsTotal, calculateShippingPrice } from \"../helpers\";\nimport { openModal } from \"../../../actions/modal\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction Totals() {\n\tconst address = useSelector((state) => state.user.location.address);\n\tconst dispatch = useDispatch();\n\tconst { sells, sellsGroups, paymentMethodWithBalance } = useContext(\n\t\tMainContext\n\t);\n\tconst { t } = useTranslation();\n\tfunction openMapModal(e) {\n\t\tdispatch(openModal(\"map\"));\n\t\te.preventDefault();\n\t}\n\n\tconst sellsTotal = calculateSellsTotal(sells);\n\tconst shippingPrice = calculateShippingPrice(sells, sellsGroups);\n\tconst totalPrice = sellsTotal + shippingPrice - paymentMethodWithBalance;\n\n\treturn (\n\t\t<div className=\"table-wrapper\">\n\t\t\t<table className=\"table table-summary\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr className=\"summary-subtotal\">\n\t\t\t\t\t\t<td>{t(\"total\")}:</td>\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: \"min-content\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{formatterCurrency(sellsTotal)}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr className=\"summary-shipping\">\n\t\t\t\t\t\t<td>{t(\"delivery\")}:</td>\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: \"min-content\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{formatterCurrency(shippingPrice)}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr className=\"summary-shipping-estimate\">\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tpadding: \"15px 0\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{address ? address.name : \"Адрес не выбран\"} :\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tpadding: \"15px 0\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tpadding: \"0\",\n\t\t\t\t\t\t\t\t\tmarginTop: \"5px\",\n\t\t\t\t\t\t\t\t\ttextDecoration: \"underline\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={openMapModal}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(\"change-address\")}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\n\t\t\t\t\t<tr className=\"summary-total\">\n\t\t\t\t\t\t<td>{t(\"total\")}:</td>\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: \"min-content\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{formatterCurrency(totalPrice)}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n}\n\nexport default Totals;\n","import React, { useContext } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport MainContext from \"../../MainContext\";\nimport { closeModal } from \"../../../../actions/modal\";\n\nexport default function PaymentMethod({ payment }) {\n\tconst showModal = useSelector(state => state.modal.showModal);\n\tconst modal = useSelector(state => state.modal.modal);\n\tconst dispatch = useDispatch();\n\tconst { paymentMethod, onChangePaymentMethod } = useContext(MainContext);\n\n\tconst isSelectedPayment = () => payment.id === paymentMethod?.id;\n\n\tfunction closePaymentModal() {\n\t\tif (showModal && \"payment\" === modal) {\n\t\t\tdocument\n\t\t\t\t.getElementById(\"payment-modal\")\n\t\t\t\t.classList.remove(\"ReactModal__Content--after-open\");\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tdispatch(closeModal(\"payment-modal\"));\n\t\t\t}, 200);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tkey={payment.id}\n\t\t\tclassName={`col-3 d-flex flex-column justify-content-between payment_wrapper rounded border p-0 ${\n\t\t\t\tisSelectedPayment() ? \"selected\" : \"\"\n\t\t\t}`}\n\t\t\tonClick={() => {\n\t\t\t\tonChangePaymentMethod(payment);\n\t\t\t\tclosePaymentModal();\n\t\t\t}}\n\t\t>\n\t\t\t<img\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: \"100%\",\n\t\t\t\t\tdisplay: \"block\",\n\t\t\t\t\tobjectFit: \"contain\"\n\t\t\t\t}}\n\t\t\t\tsrc={`https://app.ox-sys.com${payment.icon}`}\n\t\t\t\talt={payment.name}\n\t\t\t\twidth=\"100\"\n\t\t\t/>\n\t\t\t<p\n\t\t\t\tclassName=\"m-0 text-center\"\n\t\t\t\tstyle={{\n\t\t\t\t\tfontSize: \"14px\",\n\t\t\t\t\tuserSelect: \"none\"\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{payment.name.split(\" \")[0]}\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","import React, { useContext } from \"react\";\nimport MainContext from \"../../MainContext\";\nimport PaymentMethod from \"./PaymentMethod\";\n// import InputBalancePayment from \"./InputBalancePayment\";\n\nexport default function PaymentMethods() {\n\tconst { paymentMethods } = useContext(MainContext);\n\n\treturn (\n\t\t<div className=\"payment_methods d-flex justify-content-between mt-3 mb-3 row\">\n\t\t\t{/* <InputBalancePayment /> */}\n\t\t\t{paymentMethods?.length > 0 &&\n\t\t\t\tpaymentMethods.map(payment =>\n\t\t\t\t\tpayment.wallet ? null : (\n\t\t\t\t\t\t<PaymentMethod key={payment.id} payment={payment} />\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport Totals from \"./Totals\";\nimport { Link } from \"react-router-dom\";\nimport PaymentMethods from \"./payment/PaymentMethods\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction Sidebar({ onFinishSell, paymentMethod, openPaymentModal }) {\n\tconst { t } = useTranslation();\n\treturn (\n\t\t<div className=\"mt-2 sidebar\">\n\t\t\t<div className=\"summary summary-cart\">\n\t\t\t\t<Totals />\n\t\t\t\t<PaymentMethods />\n\t\t\t</div>\n\n\t\t\t<button\n\t\t\t\tclassName=\"btn btn-outline-primary-2 btn-order btn-block\"\n\t\t\t\tonClick={!paymentMethod ? openPaymentModal : onFinishSell}\n\t\t\t\t// disabled={!(paymentMethod && evenSellsAvailable(sells))}\n\t\t\t>\n\t\t\t\t{t(\"pay\")}\n\t\t\t</button>\n\t\t\t<Link\n\t\t\t\tto={`${process.env.PUBLIC_URL}/`}\n\t\t\t\tclassName=\"btn btn-outline-dark-2 btn-block mb-3 continue-shipping\"\n\t\t\t>\n\t\t\t\t<span>{t(\"continue-shopping\")}</span>\n\t\t\t\t<i className=\"icon-refresh\"></i>\n\t\t\t</Link>\n\t\t</div>\n\t);\n}\n\nexport default Sidebar;\n","import React from \"react\";\nimport LoadingOverlay from \"../../components/features/loaders/LoaderOverlay\";\n\nfunction LoadingWrapper({ children, loading }) {\n\treturn (\n\t\t<div className=\"row\" style={{ position: \"relative\" }}>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\ttop: \"0\",\n\t\t\t\t\tright: \"0\",\n\t\t\t\t\tleft: \"0\",\n\t\t\t\t\tbottom: \"0\",\n\t\t\t\t\tdisplay: loading ? \"flex\" : \"none\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\tzIndex: \"999\",\n\t\t\t\t\tbackground: \"#ffffffb3\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<LoadingOverlay wrapper={true} />\n\t\t\t</div>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nexport default LoadingWrapper;\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport { closeModal } from \"../../../../actions/modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport PaymentMethods from \"./PaymentMethods\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction PaymentModal() {\n\tconst showModal = useSelector((state) => state.modal.showModal);\n\tconst modal = useSelector((state) => state.modal.modal);\n\tconst dispatch = useDispatch();\n\n\tconst { t } = useTranslation();\n\n\tfunction closePaymentModal() {\n\t\tif (showModal && \"payment\" === modal) {\n\t\t\tdocument\n\t\t\t\t.getElementById(\"payment-modal\")\n\t\t\t\t.classList.remove(\"ReactModal__Content--after-open\");\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tdispatch(closeModal(\"payment-modal\"));\n\t\t\t}, 200);\n\t\t}\n\t}\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={showModal && \"payment\" === modal}\n\t\t\tclassName=\"modal-dialog payment-modal\"\n\t\t\tonRequestClose={closePaymentModal}\n\t\t\tid=\"payment-modal\"\n\t\t>\n\t\t\t<div className=\"modal-content\">\n\t\t\t\t<div className=\"modal-body\">\n\t\t\t\t\t<div className=\"form-box\">\n\t\t\t\t\t\t<h6 className=\"text-center\">\n\t\t\t\t\t\t\t{t(\"select-payment-type\")}\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<PaymentMethods />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n\nexport default PaymentModal;\n","import React, { useContext, useState } from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeModal } from \"../../../actions/modal\";\nimport YandexMap from \"../YandexMap\";\nimport { setUserLocation } from \"../../../actions/user\";\nimport MainContext from \"../../../views/checkout/MainContext\";\nimport { useTranslation } from \"react-i18next\";\n\nconst customStyles = {\n\tcontent: {\n\t\tmaxWidth: \"100%\",\n\t\tpadding: \"20px\"\n\t},\n\toverlay: {\n\t\tbackgroundColor: \"rgba(77,77,77,0.6)\",\n\t\tzIndex: \"10000\"\n\t}\n};\n\nfunction YandexMapModalTwo() {\n\tconst { setLoadingOverlay } = useContext(MainContext);\n\tconst showModal = useSelector(state => state.modal.showModal);\n\tconst modal = useSelector(state => state.modal.modal);\n\tconst { coordinate, address: addressUser, history } = useSelector(\n\t\tstate => state.user.location\n\t);\n\tconst { t } = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst [center, setCenter] = useState({\n\t\tcenter: coordinate\n\t\t\t? [coordinate.latitude, coordinate.longitude]\n\t\t\t: [41.3112092101035, 69.27965188818546],\n\t\tzoom: 16\n\t});\n\n\tconst [address, setAddress] = useState(\n\t\taddressUser\n\t\t\t? {\n\t\t\t\t\t...addressUser,\n\t\t\t\t\tname: addressUser.name\n\t\t\t  }\n\t\t\t: null\n\t);\n\n\tfunction closeMapModal() {\n\t\tdispatch(closeModal(\"map-modal-two\"));\n\t}\n\n\tfunction changeAddress(h) {\n\t\tsetCenter({\n\t\t\tcenter: [h.latitude, h.longitude],\n\t\t\tzoom: 16\n\t\t});\n\t}\n\n\tfunction saveAddress() {\n\t\tconst h = {\n\t\t\tname: address.name,\n\t\t\tlatitude: center.center[0],\n\t\t\tlongitude: center.center[1]\n\t\t};\n\t\tconst nh =\n\t\t\thistory?.length > 0 ? history.filter(q => q.name !== h.name) : [];\n\t\tif (nh.length > 6) {\n\t\t\tnh.pop();\n\t\t}\n\t\tnh.unshift(h);\n\n\t\tconst location = {\n\t\t\tcoordinate: {\n\t\t\t\tlatitude: center.center[0],\n\t\t\t\tlongitude: center.center[1]\n\t\t\t},\n\t\t\taddress,\n\t\t\thistory: nh\n\t\t};\n\t\tdispatch(setUserLocation({ ...location }));\n\t\tdispatch(closeModal());\n\t\tsetLoadingOverlay(true);\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={showModal && \"map-two\" === modal}\n\t\t\tonRequestClose={closeMapModal}\n\t\t\tstyle={customStyles}\n\t\t\tclassName=\"map-modal-two\"\n\t\t\tid=\"map-modal-two\"\n\t\t>\n\t\t\t<h3 className=\"text-center font-weight-bold\">\n\t\t\t\t{t(\"change-address\")}\n\t\t\t</h3>\n\t\t\t<ul className=\"address-history\">\n\t\t\t\t{history?.length > 0 &&\n\t\t\t\t\thistory.map((h, i) => (\n\t\t\t\t\t\t<li onClick={() => changeAddress(h)} key={i}>\n\t\t\t\t\t\t\t{h.name}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t</ul>\n\t\t\t<div className=\"map_content\">\n\t\t\t\t<div className=\"location-wrapper\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc=\"assets/images/pin.png\"\n\t\t\t\t\t\talt=\"location\"\n\t\t\t\t\t\twidth=\"22\"\n\t\t\t\t\t\theight=\"22\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<p className=\"location-address\">\n\t\t\t\t\t{address ? address.name : \"\"}\n\t\t\t\t</p>\n\n\t\t\t\t<YandexMap\n\t\t\t\t\tzoom={false}\n\t\t\t\t\tcenter={center}\n\t\t\t\t\tsetCenter={setCenter}\n\t\t\t\t\tonChange={address => {\n\t\t\t\t\t\tsetAddress(address);\n\t\t\t\t\t}}\n\t\t\t\t\tbottom={15}\n\t\t\t\t\tright={15}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<button onClick={saveAddress} className=\"btn bg-primary w-100\">\n\t\t\t\t{t(\"save\")}\n\t\t\t</button>\n\t\t</Modal>\n\t);\n}\n\nexport default YandexMapModalTwo;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tfinishSell,\n\tgetCartSupplier,\n\tgetUserCart,\n\tsendWithDataPayment,\n\tshippingCalculate,\n\tupdateToCartApi,\n} from \"../../api/cart\";\nimport { openModal } from \"../../actions/modal\";\nimport LoaderOverlay from \"../../components/features/loaders/LoaderOverlay\";\nimport {\n\tgetAvailableSellsIds,\n\tgetDefaultShippingCalculateData,\n\tgetShippingCalculateData,\n\treplaceSellFromSells,\n\tselectAvailableSellsForPaymentMethod,\n\tsetSellsToSellsGroups,\n\tsetSellsToSellGroup,\n\tsetShippingServiceToSellGroup,\n\tsetShippingServiceToSellsGroups,\n\tlogger,\n\tfilterSells,\n} from \"./helpers\";\nimport MainContext from \"./MainContext\";\nimport SellGroups from \"./sells/SellGroups\";\nimport Sidebar from \"./sidebar/Sidebar\";\nimport LoadingWrapper from \"./LoadingWrapper\";\nimport { removeToCartApi } from \"../../api/cart\";\nimport { toast } from \"react-toastify\";\nimport {\n\tremoveFromCartState,\n\tchangeQty,\n\temptyCart,\n\tsetUserCart,\n} from \"../../actions/cart\";\nimport EmptyCart from \"../../components/features/cart/EmptyCart\";\nimport PaymentModal from \"./sidebar/payment/PaymentModal\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport AddressList from \"../profile/addresses/AddressList\";\nimport { logoutUser } from \"../../actions/user\";\nimport YandexMapModalTwo from \"../../components/features/modal/YandexMapModalTwo\";\n\nconst toastOptions = { position: \"top-left\" };\n\nexport default function Checkout() {\n\tconst dispatch = useDispatch();\n\tconst h = useHistory();\n\tconst user = useSelector((state) => state.user);\n\tconst { token } = useSelector((state) => state.user.tokenData);\n\tconst {\n\t\tshippingServices,\n\t\tcashdesk: { paymentMethods },\n\t} = useSelector((state) => state.marketData);\n\tconst { t } = useTranslation();\n\tconst { coordinate, address } = user.location;\n\tconst [sells, setSellsPlain] = useState([]);\n\tconst [sellsGroups, setSellsGroups] = useState([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [loadingOverlay, setLoadingOverlay] = useState(false);\n\tconst [paymentMethod, setPaymentMethod] = useState();\n\tconst [paymentMethodWithBalance, setPaymentMethodWithBalance] = useState(0);\n\tconst [chooseCoordinate, setChooseCoordinate] = useState(false);\n\tconst [extraDataSell, setExtraDataSell] = useState();\n\tconst notAvailable = [];\n\tconst setSells = (sells) =>\n\t\tsetSellsPlain(selectAvailableSellsForPaymentMethod(sells));\n\tconst shippingAddress = useSelector((state) =>\n\t\tstate.user.user?.addresses?.filter((a) => a.type === \"shipping\")\n\t);\n\n\tasync function getInit() {\n\t\ttry {\n\t\t\tlet sells = await getUserCart(token);\n\t\t\tsells = filterSells(sells);\n\n\t\t\tif (sells?.length) {\n\t\t\t\tlet { data, shippingService } = getDefaultShippingCalculateData(\n\t\t\t\t\tsells,\n\t\t\t\t\tshippingServices,\n\t\t\t\t\tcoordinate\n\t\t\t\t);\n\n\t\t\t\tconst sellsGroups = await shippingCalculate(data, token);\n\n\t\t\t\tsetSells(sells);\n\t\t\t\tdispatch(setUserCart(sells));\n\t\t\t\tsetSellsGroups(\n\t\t\t\t\tsetShippingServiceToSellsGroups(\n\t\t\t\t\t\tshippingService,\n\t\t\t\t\t\tsellsGroups\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tlogger(sellsGroups);\n\n\t\t\t\t// back fetches\n\t\t\t\tif (token) {\n\t\t\t\t\tgetCartSupplier(token).then((res) => {\n\t\t\t\t\t\tsetExtraDataSell(res);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// dispatch(openModal(\"payment\"));\n\t\t\t} else {\n\t\t\t\tdispatch(emptyCart());\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tif (error.response?.status === 401) {\n\t\t\t\tdispatch(logoutUser());\n\t\t\t}\n\t\t\tif (\n\t\t\t\terror.response?.data?.error ||\n\t\t\t\terror.response?.data?.items ===\n\t\t\t\t\t\"Sell store geolocation is not present\"\n\t\t\t) {\n\t\t\t\ttoast.error(t(\"geolocation_not_specified\"), toastOptions);\n\t\t\t} else {\n\t\t\t\ttoast.error(\n\t\t\t\t\terror.response?.data?.error || error.response?.data?.items,\n\t\t\t\t\ttoastOptions\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t}\n\t}\n\n\tfunction onChangePaymentMethod(payment) {\n\t\tlet newPM;\n\t\tif (paymentMethod?.id !== payment.id) newPM = payment;\n\n\t\tsetPaymentMethod(newPM);\n\n\t\tsetSellsPlain([\n\t\t\t...selectAvailableSellsForPaymentMethod(\n\t\t\t\tsells,\n\t\t\t\tnewPM,\n\t\t\t\tpaymentMethods,\n\t\t\t\textraDataSell\n\t\t\t),\n\t\t]);\n\t}\n\n\tfunction onFinishSell() {\n\t\tconst comment = \"\";\n\t\tsetLoadingOverlay(true);\n\n\t\tfinishSell(\n\t\t\tgetAvailableSellsIds(sells),\n\t\t\tpaymentMethod.id,\n\t\t\t{},\n\t\t\tcomment,\n\t\t\t{\n\t\t\t\tcountryCode: address.countryCode,\n\t\t\t\tadministrativeArea: address.administrativeArea,\n\t\t\t\tlocality: address.locality,\n\t\t\t\tdependentLocality: address.dependentLocality,\n\t\t\t\taddressLine1: address.addressLine1,\n\t\t\t\tlatitude: coordinate.latitude,\n\t\t\t\tlongitude: coordinate.longitude,\n\t\t\t\tpostalCode: address.postalCode,\n\t\t\t},\n\t\t\ttoken,\n\t\t\twindow.location.origin + \"/profile\"\n\t\t)\n\t\t\t.then(({ url, data }) => {\n\t\t\t\tif (data) {\n\t\t\t\t\tsendWithDataPayment(url, data).then((res) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (url) {\n\t\t\t\t\t\twindow.open(url, \"_blank\").focus();\n\t\t\t\t\t}\n\t\t\t\t\tsetLoadingOverlay(false);\n\t\t\t\t\ttoast.success(t(\"purchese_sucsessfuly\"), toastOptions);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\twindow.location.pathname = \"/profile\";\n\t\t\t\t\t}, 2000);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(async (err) => {\n\t\t\t\tif (err.response?.data?.form?.children?.sells?.errors?.length) {\n\t\t\t\t\tfor (const error of err.response?.data?.form?.children\n\t\t\t\t\t\t?.sells?.errors) {\n\t\t\t\t\t\tconst sell = error.split(\" \");\n\t\t\t\t\t\tsell.forEach((s) =>\n\t\t\t\t\t\t\tNumber(s) ? notAvailable.push(Number(s)) : null\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const sell of sells) {\n\t\t\t\t\t\tfor (const record of sell.sellRecords) {\n\t\t\t\t\t\t\tif (notAvailable.find((s) => s === record.id)) {\n\t\t\t\t\t\t\t\trecord.message = t(\"amount-balance\");\n\t\t\t\t\t\t\t\tsetLoadingOverlay(true);\n\t\t\t\t\t\t\t\tawait removeFromCart(\n\t\t\t\t\t\t\t\t\trecord.id,\n\t\t\t\t\t\t\t\t\trecord.variation,\n\t\t\t\t\t\t\t\t\t() => {}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tsetLoadingOverlay(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsetLoadingOverlay(false);\n\t\t\t\t\treturn sells;\n\t\t\t\t}\n\t\t\t\ttoast.error(t(\"amount-balance\"), toastOptions);\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t});\n\t}\n\n\tasync function onChangeShippingService(\n\t\tsellIds,\n\t\tshippingService,\n\t\tindexOfSellGroup,\n\t\tdate\n\t) {\n\t\ttry {\n\t\t\tsetLoadingOverlay(true);\n\t\t\tconsole.log(shippingService);\n\t\t\tconst data = getShippingCalculateData(\n\t\t\t\tsellIds,\n\t\t\t\tshippingService,\n\t\t\t\tdate,\n\t\t\t\tuser.location.coordinate\n\t\t\t);\n\n\t\t\tconst [sellGroup] = await shippingCalculate(data, token);\n\n\t\t\tlet sellsGroupsCopy = sellsGroups.slice();\n\t\t\tsellsGroupsCopy[indexOfSellGroup] = setSellsToSellGroup(\n\t\t\t\tsells,\n\t\t\t\tsetShippingServiceToSellGroup(shippingService, sellGroup)\n\t\t\t);\n\n\t\t\tsetSellsGroups(sellsGroupsCopy);\n\n\t\t\t// setSellsGroups((sellsGroups) => [\n\t\t\t//   ...removeSellGroupBySellIds(sellIds, sellsGroups),\n\t\t\t//   setSellsToSellGroup(\n\t\t\t//     sells,\n\t\t\t//     setShippingServiceToSellGroup(shippingService, sellGroup)\n\t\t\t//   ),\n\t\t\t// ]);\n\n\t\t\tsetLoadingOverlay(false);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\talert(\"error\");\n\t\t\tsetLoadingOverlay(false);\n\t\t}\n\t}\n\n\tfunction onChange(count, id, variationId, setLoadingRecord) {\n\t\tsetLoadingRecord(true);\n\t\tif (!count) {\n\t\t\tremoveFromCart(id, variationId);\n\t\t} else {\n\t\t\tdispatch(changeQty(variationId, count, token));\n\t\t\tupdateToCartApi(parseInt(count), id, token)\n\t\t\t\t.then((sell) => {\n\t\t\t\t\tsetSells(replaceSellFromSells(sell, sells));\n\t\t\t\t\tsetLoadingRecord(false);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t\tsetLoadingRecord(false);\n\t\t\t\t});\n\t\t}\n\t}\n\n\tfunction removeFromCart(id, variationId) {\n\t\tsetLoadingOverlay(true);\n\t\tdispatch(removeFromCartState(variationId));\n\t\tremoveToCartApi(id, token)\n\t\t\t.then((sell) => {\n\t\t\t\tsetSells(replaceSellFromSells(sell, sells));\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\ttoast.error(e.response?.data?.message, toastOptions);\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tsetSellsGroups((sellsGroups) =>\n\t\t\tsetSellsToSellsGroups(sells, sellsGroups)\n\t\t);\n\t}, [sells]);\n\n\tuseEffect(() => {\n\t\tif (!token) {\n\t\t\th.push(\"/login\");\n\t\t}\n\t\tif (!coordinate) {\n\t\t\tif (window.webview) {\n\t\t\t\twindow.sendMessageToApp(\"OPEN_LOCATION\");\n\t\t\t} else {\n\t\t\t\tsetChooseCoordinate(true);\n\t\t\t}\n\t\t} else {\n\t\t\tgetInit();\n\t\t\tsetChooseCoordinate(false);\n\t\t}\n\t}, [coordinate]);\n\n\tfunction openPaymentModal() {\n\t\tdispatch(openModal(\"payment\"));\n\t}\n\n\treturn (\n\t\t<MainContext.Provider\n\t\t\tvalue={{\n\t\t\t\tuser: user,\n\t\t\t\ttoken: token,\n\t\t\t\tshippingServices: shippingServices,\n\t\t\t\tsells: sells,\n\t\t\t\tpaymentMethods: paymentMethods,\n\t\t\t\tpaymentMethodWithBalance: paymentMethodWithBalance,\n\t\t\t\tsetPaymentMethodWithBalance: setPaymentMethodWithBalance,\n\t\t\t\tsetSells: setSells,\n\t\t\t\tsellsGroups: sellsGroups,\n\t\t\t\tonFinishSell: onFinishSell,\n\t\t\t\tsetSellsGroups: setSellsGroups,\n\t\t\t\tpaymentMethod: paymentMethod,\n\t\t\t\tsetPaymentMethod: setPaymentMethod,\n\t\t\t\tonChangePaymentMethod: onChangePaymentMethod,\n\t\t\t\tsetLoadingOverlay: setLoadingOverlay,\n\t\t\t\tremoveFromCart: removeFromCart,\n\t\t\t\tonChange: onChange,\n\t\t\t\textraDataSell: extraDataSell,\n\t\t\t\tonChangeShippingService: onChangeShippingService,\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"main pt-5\">\n\t\t\t\t<div className=\"page-content\">\n\t\t\t\t\t{chooseCoordinate ? (\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t{shippingAddress.length > 0 ? (\n\t\t\t\t\t\t\t\t<AddressList\n\t\t\t\t\t\t\t\t\tshippingAddress={shippingAddress}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn bg-primary text-white mx-auto\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (window.webview) {\n\t\t\t\t\t\t\t\t\t\t\twindow.sendMessageToApp(\n\t\t\t\t\t\t\t\t\t\t\t\t\"OPEN_LOCATION\"\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdispatch(openModal(\"map\"));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"address-not-selected\")}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : loading ? (\n\t\t\t\t\t\t<LoaderOverlay />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"cart\">\n\t\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t\t{sells.length ? (\n\t\t\t\t\t\t\t\t\t<LoadingWrapper loading={loadingOverlay}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-9\">\n\t\t\t\t\t\t\t\t\t\t\t<h4>{t(\"cart\")}</h4>\n\t\t\t\t\t\t\t\t\t\t\t<SellGroups\n\t\t\t\t\t\t\t\t\t\t\t\tsellsGroups={sellsGroups}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\n\t\t\t\t\t\t\t\t\t\t\t<Sidebar\n\t\t\t\t\t\t\t\t\t\t\t\topenPaymentModal={\n\t\t\t\t\t\t\t\t\t\t\t\t\topenPaymentModal\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tsells={sells}\n\t\t\t\t\t\t\t\t\t\t\t\tonFinishSell={onFinishSell}\n\t\t\t\t\t\t\t\t\t\t\t\tpaymentMethod={paymentMethod}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</LoadingWrapper>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<EmptyCart />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<YandexMapModalTwo />\n\t\t\t\t<PaymentModal />\n\t\t\t</div>\n\t\t</MainContext.Provider>\n\t);\n}\n","import React, { useContext, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeModal } from \"../../../actions/modal\";\nimport MainContext from \"../../../views/checkout/MainContext\";\n\nexport default function AddCommentModal() {\n\tconst { comment, setComment } = useContext(MainContext);\n\tconst [value, setValue] = useState();\n\tconst customStyles = {\n\t\tcontent: {\n\t\t\tmaxWidth: \"100%\"\n\t\t},\n\t\toverlay: {\n\t\t\tbackgroundColor: \"rgba(77,77,77,0.6)\",\n\t\t\tzIndex: \"10000\"\n\t\t}\n\t};\n\n\tfunction close() {\n\t\tdispatch(closeModal(\"comment-modal\"));\n\t}\n\tconst { t } = useTranslation();\n\tconst dispatch = useDispatch();\n\tconst { modal, showModal } = useSelector(state => state.modal);\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={showModal && \"comment\" === modal}\n\t\t\tonRequestClose={close}\n\t\t\tstyle={customStyles}\n\t\t\tclassName=\"comment-modal\"\n\t\t\tid=\"comment-modal\"\n\t\t>\n\t\t\t<h3 className=\"text-center font-weight-bold\">{t(\"add_comment\")}</h3>\n\t\t\t<textarea\n\t\t\t\tonChange={e => setValue(e.target.value.trim())}\n\t\t\t\tdefaultValue={comment}\n\t\t\t\tname=\"comment text\"\n\t\t\t\tid=\"comment\"\n\t\t\t\tcols=\"50\"\n\t\t\t\trows=\"5\"\n\t\t\t></textarea>\n\t\t\t<button\n\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tclose();\n\t\t\t\t\tsetComment(value);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{t(\"save\")}\n\t\t\t</button>\n\t\t</Modal>\n\t);\n}\n","import React, { useEffect } from \"react\";\n// import market from \"../../../config/market\";\n\nfunction ShippingServicesTwo({ list, value, onChange, setPickUp }) {\n\t// var newList = [];\n\t// if (market.config.home === 9) {\n\t// \tnewList = list.filter(item =>\n\t// \t\tvalue === 2 ? item.id !== 9 : value === 9 ? item.id !== 2 : list\n\t// \t);\n\t// \tconsole.log(newList);\n\t// }\n\n\tuseEffect(() => {\n\t\tsetPickUp(list.find(s => s.id === parseInt(value))?.pickup);\n\t}, [parseInt(value)]);\n\treturn (\n\t\tlist && (\n\t\t\t<div className=\"tab-nav pt-5 pb-5\">\n\t\t\t\t{list.map((item, i) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tonClick={() => onChange(item.id)}\n\t\t\t\t\t\tclassName={`tab-item ${\n\t\t\t\t\t\t\tparseInt(value) === item.id ? `active` : ``\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{item.name}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t)\n\t);\n}\n\nexport default ShippingServicesTwo;\n","import React, { useEffect, useState } from \"react\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { closeModal } from \"../../../actions/modal\";\nimport Calendar from \"react-calendar\";\nimport TimePicker from \"react-time-picker\";\nimport \"react-calendar/dist/Calendar.css\";\nimport \"react-time-picker/dist/TimePicker.css\";\nimport \"react-clock/dist/Clock.css\";\nimport { useTranslation } from \"react-i18next\";\nimport YandexMapLocations from \"./YandexMapLocations\";\nimport ShippingServicesTwo from \"../../../views/checkout/sells/shippingServiceTwo\";\nimport { getShippingCalculateDataLocation } from \"../../../views/checkout/helpers\";\nimport { shippingCalculate } from \"../../../api/cart\";\n\nexport default function ShippingServiceModal({\n\tmodal,\n\tsetModal,\n\tsells,\n\tonChangeShippingService,\n\tshippingServices,\n}) {\n\tconst dispatch = useDispatch();\n\tconst user = useSelector((state) => state.user);\n\tconst { coordinate } = user.location;\n\tconst { token } = useSelector((state) => state.user.tokenData);\n\tconst { t } = useTranslation();\n\tconst [date, onChangeDate] = useState(new Date());\n\tconst [time, onChangeTime] = useState(new Date().toLocaleTimeString(\"ru\"));\n\tconst [shippingServiceValue, setShippingServiceValue] = useState();\n\tconst [showDate, setshowDate] = useState(false);\n\tconst [showCalendar, setShowCalendar] = useState(false);\n\tconst [showTime, setShowTime] = useState(false);\n\tconst [pickUp, setPickUp] = useState();\n\tconst [selectedLocation, setSelectedLocation] = useState();\n\tconst [activeLocation, setActiveLocation] = useState();\n\n\tuseEffect(() => {\n\t\tif (!shippingServiceValue && modal.modal) {\n\t\t\tsetShippingServiceValue(modal.sellGroup.shippingService);\n\t\t}\n\t\tif (pickUp) {\n\t\t\tsetSelectedLocation(\n\t\t\t\tshippingServices.find((s) => s.pickup === true).locations[0]\n\t\t\t);\n\n\t\t\tsetActiveLocation(\n\t\t\t\tshippingServices.find((s) => s.pickup === true).locations[0].id\n\t\t\t);\n\t\t}\n\t}, [modal, pickUp]);\n\tfunction saveShippingService(shippingServiceValue, date) {\n\t\tmodal.setShippingServiceName(\n\t\t\tshippingServices.find(\n\t\t\t\t(s) => s.id === parseInt(shippingServiceValue)\n\t\t\t).name\n\t\t);\n\t\tif (date) {\n\t\t\tmodal.setDate(date);\n\t\t}\n\n\t\tonChangeShippingService(\n\t\t\tmodal.sellGroup.sellIds,\n\t\t\tparseInt(shippingServiceValue),\n\t\t\tmodal.indexOfSellGroup,\n\t\t\tdate\n\t\t\t\t? {\n\t\t\t\t\t\tdate:\n\t\t\t\t\t\t\tdate.date.split(\".\")[2] +\n\t\t\t\t\t\t\t\"-\" +\n\t\t\t\t\t\t\tdate.date.split(\".\")[0] +\n\t\t\t\t\t\t\t\"-\" +\n\t\t\t\t\t\t\tdate.date.split(\".\")[1],\n\t\t\t\t\t\ttime: date.time.split(\":\")[2]\n\t\t\t\t\t\t\t? date.time\n\t\t\t\t\t\t\t: date.time + \":00\",\n\t\t\t\t  }\n\t\t\t\t: null\n\t\t);\n\t\tsetModal({ modal: false });\n\t}\n\tfunction submit() {\n\t\tif (pickUp) {\n\t\t\tdispatch(closeModal(\"shippingServiceModal\"));\n\t\t\tsetModal({ modal: false });\n\t\t} else {\n\t\t\tsaveShippingService(\n\t\t\t\tparseInt(shippingServiceValue),\n\t\t\t\tshowDate\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tdate: date.toLocaleDateString(\"ru\"),\n\t\t\t\t\t\t\ttime: time,\n\t\t\t\t\t  }\n\t\t\t\t\t: null\n\t\t\t);\n\t\t\tdispatch(closeModal(\"shippingServiceModal\"));\n\t\t}\n\t}\n\tasync function onChangeLocation() {\n\t\tlet data = await getShippingCalculateDataLocation(\n\t\t\tsells,\n\t\t\tparseInt(shippingServiceValue),\n\t\t\tactiveLocation,\n\t\t\tcoordinate\n\t\t);\n\n\t\tawait shippingCalculate(data, token);\n\t}\n\tconst customStyles = {\n\t\tcontent: {\n\t\t\tpadding: \"20px\",\n\t\t},\n\t\toverlay: {\n\t\t\tbackgroundColor: \"rgba(77,77,77,0.6)\",\n\t\t\tzIndex: \"10000\",\n\t\t},\n\t};\n\treturn (\n\t\t<>\n\t\t\t{showCalendar ? (\n\t\t\t\t<div className=\"calendar-wrapper\">\n\t\t\t\t\t<Calendar value={date} onChange={onChangeDate} />\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-primary change-date\"\n\t\t\t\t\t\tonClick={() => setShowCalendar(false)}\n\t\t\t\t\t>\n\t\t\t\t\t\tOK\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t{showTime ? (\n\t\t\t\t<div className=\"time-wrapper\">\n\t\t\t\t\t<TimePicker value={time} onChange={onChangeTime} />\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-primary change-time\"\n\t\t\t\t\t\tonClick={() => setShowTime(false)}\n\t\t\t\t\t>\n\t\t\t\t\t\tOK\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t<Modal\n\t\t\t\tisOpen={modal.modal}\n\t\t\t\tonRequestClose={() => {\n\t\t\t\t\tsetShowCalendar(false);\n\t\t\t\t\tsetShowTime(false);\n\t\t\t\t\tsetModal({ modal: false });\n\t\t\t\t}}\n\t\t\t\tstyle={customStyles}\n\t\t\t\tclassName={`shipping_service_modal ${pickUp ? `pickup` : ``}`}\n\t\t\t\tid=\"shipping_service_modal\"\n\t\t\t>\n\t\t\t\t<div className=\"shipping_service_modal_content\">\n\t\t\t\t\t<h3 className=\"text-center font-weight-bold\">\n\t\t\t\t\t\tИзменить тип доставка\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"shipping-service\">\n\t\t\t\t\t\t<ShippingServicesTwo\n\t\t\t\t\t\t\taddClass={\"form-control\"}\n\t\t\t\t\t\t\tlist={shippingServices}\n\t\t\t\t\t\t\tsetPickUp={setPickUp}\n\t\t\t\t\t\t\tvalue={shippingServiceValue}\n\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\tsetShippingServiceValue(value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{pickUp ? (\n\t\t\t\t\t\t<div className=\"row locations-map\">\n\t\t\t\t\t\t\t<div className=\"col-md-3 col-12\">\n\t\t\t\t\t\t\t\t<div className=\"locations\">\n\t\t\t\t\t\t\t\t\t{shippingServices\n\t\t\t\t\t\t\t\t\t\t.find((s) => s.pickup === true)\n\t\t\t\t\t\t\t\t\t\t?.locations?.map((location, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`location ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocation.id ===\n\t\t\t\t\t\t\t\t\t\t\t\t\tactiveLocation\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `active`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ``\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedLocation({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: location.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: location.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddress:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocation.address,\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveLocation(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocation.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeLocation();\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{location.name}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-md-9 col-12\">\n\t\t\t\t\t\t\t\t<div className=\"map\">\n\t\t\t\t\t\t\t\t\t<YandexMapLocations\n\t\t\t\t\t\t\t\t\t\tsupplierAdress={\n\t\t\t\t\t\t\t\t\t\t\tselectedLocation?.address\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tpickUp={pickUp}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<div className=\"times_heading d-flex align-items-center justify-content-between\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={`flex-grow-1 p-3 ${\n\t\t\t\t\t\t\t\t!showDate ? \" active\" : \"\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetshowDate(false);\n\t\t\t\t\t\t\t\tsetShowCalendar(false);\n\t\t\t\t\t\t\t\tsetShowTime(false);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"soon-time\")}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={`flex-grow-1 p-3 ${\n\t\t\t\t\t\t\t\tshowDate ? \" active\" : \"\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\tonClick={() => setshowDate(true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tУказанное время\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{showDate && (\n\t\t\t\t\t\t<div className=\"times_body d-flex align-items-center justify-content-between\">\n\t\t\t\t\t\t\t<div onClick={() => setShowCalendar(!showCalendar)}>\n\t\t\t\t\t\t\t\t{date.toLocaleDateString(\"ru\")}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div onClick={() => setShowTime(!showTime)}>\n\t\t\t\t\t\t\t\t{time}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<button className=\"btn\" onClick={submit}>\n\t\t\t\t\t\t{t(\"save\")}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t</>\n\t);\n}\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Modal from \"react-modal\";\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"40%\",\n\t\ttransform: \"translateY(-60%)\",\n\t\tpadding: \"20px\",\n\t},\n\toverlay: {\n\t\tbackgroundColor: \"rgba(77,77,77,0.6)\",\n\t\tzIndex: \"10000\",\n\t},\n};\n\nexport default function SellFilterModal({ title, modal, setModal }) {\n\tconst { t } = useTranslation();\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={modal.open}\n\t\t\tclassName=\"modal-dialog acsept-modal\"\n\t\t\tonRequestClose={() => setModal({ open: false })}\n\t\t\tstyle={customStyles}\n\t\t\tid=\"acsept-modal\"\n\t\t>\n\t\t\t<div className=\"modal-content\">\n\t\t\t\t<h2 className=\"question text-center\">{t(title)}</h2>\n\t\t\t\t<div className=\"acsept-buttons text-center\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"acsept-yes\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetModal({ open: false });\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t(\"okay_\")}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { getPrice, getImageUrl, removeProps } from \"../../../utils/oxMethods\";\nimport { Link } from \"react-router-dom\";\nimport { quantityInputs } from \"../../../utils\";\nimport MainContext from \"../MainContext\";\nimport InputChangerCount from \"../../../components/common/InputChangerCount\";\nimport Loader from \"../../../components/features/loaders/loader\";\nimport market from \"../../../config/market\";\nimport { useSelector } from \"react-redux\";\nimport SellFilterModal from \"../../../components/features/modal/SellFilterModal\";\n\nfunction SellRecordTwo({ sellRecord, product }) {\n\tconst { removeFromCart, onChange } = useContext(MainContext);\n\tconst [loadingRecord, setLoadingRecord] = useState(false);\n\tconst { settings } = useSelector((state) => state.marketData);\n\tconst [properties, setProperties] = useState();\n\tconst [modal, setModal] = useState({ open: true, item: [] });\n\tuseEffect(() => {\n\t\tif (product) {\n\t\t\tsetProperties(\n\t\t\t\tremoveProps(product.properties, settings.variationProperty)\n\t\t\t);\n\t\t}\n\t}, [product?.properties]);\n\n\tuseEffect(() => {\n\t\tquantityInputs();\n\t});\n\treturn (\n\t\t<div className=\"cart-supplier-info cart-item osto-cart p-0 pl-5 pr-5 flex-column align-items-start\">\n\t\t\t{sellRecord.message ? (\n\t\t\t\t<div className=\"not-count-message\">\n\t\t\t\t\t<SellFilterModal\n\t\t\t\t\t\ttitle={sellRecord.message}\n\t\t\t\t\t\tmodal={modal}\n\t\t\t\t\t\t// isClicked={isClicked}\n\t\t\t\t\t\tsetModal={setModal}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t<div className=\"row cart-product-card w-100\">\n\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t<div className=\"product-media-wrapper\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tclassName=\"product-media\"\n\t\t\t\t\t\t\tto={`${process.env.PUBLIC_URL}/product/${sellRecord.variation}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\t\t\t\tobjectFit: \"contain\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tsrc={getImageUrl(product?.images[0])}\n\t\t\t\t\t\t\t\talt=\"Product\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-7 d-flex cart-product-info m-0\">\n\t\t\t\t\t<div className=\"cart-item-infoblock w-100\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tclassName=\"text-dark\"\n\t\t\t\t\t\t\tto={`${process.env.PUBLIC_URL}/product/${sellRecord.variation}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{sellRecord.variationName}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<div className=\"d-md-block d-flex\">\n\t\t\t\t\t\t\t{product ? (\n\t\t\t\t\t\t\t\tproperties?.map((prop, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"cart-variation-pr\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span>{prop.name}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{prop.value}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"short-line-shimmer\"></div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"cart-amount-product\">\n\t\t\t\t\t\t\t{sellRecord.discount[sellRecord.discount.first] >\n\t\t\t\t\t\t\t0 ? (\n\t\t\t\t\t\t\t\t<div className=\"search-result-price\">\n\t\t\t\t\t\t\t\t\t<span className=\"new-price\">\n\t\t\t\t\t\t\t\t\t\t{getPrice(sellRecord.finalPrice, true)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"old-price text-through\">\n\t\t\t\t\t\t\t\t\t\t{getPrice(sellRecord.subtotal, true)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tgetPrice(sellRecord.total, true)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{loadingRecord ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`loading-count ${\n\t\t\t\t\t\t\tmarket.config.home === 6 ? `col-2` : ``\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"col-2 cart-product-actions\">\n\t\t\t\t\t\t<InputChangerCount\n\t\t\t\t\t\t\tinitValue={sellRecord.count}\n\t\t\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\tsellRecord.id,\n\t\t\t\t\t\t\t\t\tsellRecord.variation,\n\t\t\t\t\t\t\t\t\tsetLoadingRecord\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn-remove\"\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tremoveFromCart(\n\t\t\t\t\t\t\t\t\tsellRecord.id,\n\t\t\t\t\t\t\t\t\tsellRecord.variation,\n\t\t\t\t\t\t\t\t\tsetLoadingRecord\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"i-icon icon-times-circle-o\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default SellRecordTwo;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { getPrice, getImageUrl, removeProps } from \"../../../utils/oxMethods\";\nimport { Link } from \"react-router-dom\";\nimport { quantityInputs } from \"../../../utils\";\nimport MainContext from \"../MainContext\";\nimport InputChangerCount from \"../../../components/common/InputChangerCount\";\nimport { useSelector } from \"react-redux\";\nimport market from \"../../../config/market\";\n\nfunction SellRecordThree({ sellRecord, product }) {\n\tconst { onChange, removeFromCart } = useContext(MainContext);\n\tconst [loadingRecord, setLoadingRecord] = useState(false);\n\tconst { settings } = useSelector(state => state.marketData);\n\tconst [properties, setProperties] = useState();\n\n\tuseEffect(() => {\n\t\tif (product) {\n\t\t\tsetProperties(\n\t\t\t\tremoveProps(product.properties, settings.variationProperty)\n\t\t\t);\n\t\t}\n\t}, [product?.properties]);\n\n\t// async function removeProduct(id, item) {\n\t// \tsetLoadingOverlay(true);\n\t// \tremoveFromCartState(id);\n\t// \tif (token && item.id) {\n\t// \t\tawait removeToCartApi(item.id, token);\n\t// \t}\n\t// \tsetLoadingOverlay(false);\n\t// \twindow.location.reload();\n\t// }\n\tuseEffect(() => {\n\t\tquantityInputs();\n\t});\n\treturn (\n\t\t<div className=\"cart-supplier-info cart-item p-0 pl-5 pr-5 flex-column align-items-start\">\n\t\t\t{sellRecord.message ? (\n\t\t\t\t<div className=\"not-count-message\">\n\t\t\t\t\t<p>{sellRecord.message}</p>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t<div className=\"row cart-product-card w-100\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={`${\n\t\t\t\t\t\tmarket.config.home === 8 ? `col-2` : `col-3`\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"product-media-wrapper\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tclassName=\"product-media\"\n\t\t\t\t\t\t\tto={`${process.env.PUBLIC_URL}/product/${sellRecord.variation}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\t\t\t\tobjectFit: \"contain\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tsrc={getImageUrl(product?.images[0])}\n\t\t\t\t\t\t\t\talt=\"Product\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-9 row m-0 d-flex cart-product-info m-0\">\n\t\t\t\t\t<div className=\"cart-item-infoblock w-100\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tclassName=\"text-dark\"\n\t\t\t\t\t\t\tto={`${process.env.PUBLIC_URL}/product/${sellRecord.variation}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{sellRecord.variationName}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<div className=\"d-md-block d-flex\">\n\t\t\t\t\t\t\t{product ? (\n\t\t\t\t\t\t\t\tproperties?.map((prop, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"cart-variation-pr\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span>{prop.name}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{prop.value}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"short-line-shimmer\"></div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row m-0 w-100 align-items-center\">\n\t\t\t\t\t\t<div className=\"col-6 p-0 cart-amount-product\">\n\t\t\t\t\t\t\t{sellRecord.discount[sellRecord.discount.first] >\n\t\t\t\t\t\t\t0 ? (\n\t\t\t\t\t\t\t\t<div className=\"search-result-price\">\n\t\t\t\t\t\t\t\t\t<span className=\"new-price\">\n\t\t\t\t\t\t\t\t\t\t{getPrice(sellRecord.finalPrice, true)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"old-price text-through\">\n\t\t\t\t\t\t\t\t\t\t{getPrice(sellRecord.subtotal, true)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tgetPrice(sellRecord.total, true)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-6 cart-product-action\">\n\t\t\t\t\t\t\t<InputChangerCount\n\t\t\t\t\t\t\t\tplus={\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/images/exp24/Plus.svg\"\n\t\t\t\t\t\t\t\t\t\talt=\"plus\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tminus={\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/images/exp24/Minus.svg\"\n\t\t\t\t\t\t\t\t\t\talt=\"minus\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tinitValue={sellRecord.count}\n\t\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tsellRecord.id,\n\t\t\t\t\t\t\t\t\t\tsellRecord.variation,\n\t\t\t\t\t\t\t\t\t\tsetLoadingRecord\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tloadingRecord={loadingRecord}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{market.config.home === 8 ? (\n\t\t\t\t\t<div className=\"col-1\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tremoveFromCart(\n\t\t\t\t\t\t\t\t\tsellRecord.id,\n\t\t\t\t\t\t\t\t\tsellRecord.variation,\n\t\t\t\t\t\t\t\t\tsetLoadingRecord\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={market.config.icons.deleteIcon}\n\t\t\t\t\t\t\t\talt=\"delete\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default SellRecordThree;\n","import React from \"react\";\nimport SellRecordTwo from \"./SellRecordTwo\";\nimport { getSellLocation } from \"../helpers\";\nimport { useTranslation } from \"react-i18next\";\nimport market from \"../../../config/market\";\nimport SellRecordThree from \"./SellRecordThree\";\nimport isSuccessDate from \"./isSuccessDate\";\n// import YandexMapLocationsModal from \"../../../components/features/modal/YandexMapLocationsModal\";\n\nfunction SellTwo({ sell, extraDataSell }) {\n\tconst { t } = useTranslation();\n\t// sell.sellRecords\n\t// \t.filter((s) => !s.deleted)\n\t// \t.map((sellRecord, index) => {\n\t// \t\tconsole.log(sellRecord.message);\n\t// \t});\n\n\treturn (\n\t\t<>\n\t\t\t<div className={sell.available ? \"active-sell\" : \"unactive-sell\"}>\n\t\t\t\t<div className=\"info_sell\">\n\t\t\t\t\t<p className=\"m-0 d-flex aling-items-center\">\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twhiteSpace: \"nowrap\",\n\t\t\t\t\t\t\t\tmarginBottom: \"0\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"order\")} №{sell.id}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t{isSuccessDate() ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"pending\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tmarginLeft: \"5px\",\n\t\t\t\t\t\t\t\t\tfontSize: \"11px\",\n\t\t\t\t\t\t\t\t\tlineHeight: \"23px\",\n\t\t\t\t\t\t\t\t\tbackgroundColor: \"rgb(252, 126, 126)\",\n\t\t\t\t\t\t\t\t\tborderRadius: \"5px\",\n\t\t\t\t\t\t\t\t\tcolor: \"rgb(255, 255, 255)\",\n\t\t\t\t\t\t\t\t\tpadding: \"0px 7px\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tПредзаказ\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</p>\n\t\t\t\t\t{/* {console.log(extraDataSell)} */}\n\t\t\t\t\t{extraDataSell?.locations && (\n\t\t\t\t\t\t<div className=\"sell_location\">\n\t\t\t\t\t\t\t<i className=\"icon-map-marker\"></i>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{getSellLocation(\n\t\t\t\t\t\t\t\t\textraDataSell.locations,\n\t\t\t\t\t\t\t\t\tsell.sellRecords[0].location\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{sell.sellRecords\n\t\t\t\t\t.filter((s) => !s.deleted)\n\t\t\t\t\t.map((sellRecord, index) => {\n\t\t\t\t\t\treturn market.config.home === 5 ||\n\t\t\t\t\t\t\tmarket.config.home === 8 ? (\n\t\t\t\t\t\t\t<SellRecordThree\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tsellRecord={sellRecord}\n\t\t\t\t\t\t\t\tlocations={extraDataSell?.locations}\n\t\t\t\t\t\t\t\tproduct={extraDataSell?.variations.find(\n\t\t\t\t\t\t\t\t\t(product) =>\n\t\t\t\t\t\t\t\t\t\tproduct.id === sellRecord.variation\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<SellRecordTwo\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tsellRecord={sellRecord}\n\t\t\t\t\t\t\t\tlocations={extraDataSell?.locations}\n\t\t\t\t\t\t\t\tproduct={extraDataSell?.variations.find(\n\t\t\t\t\t\t\t\t\t(product) =>\n\t\t\t\t\t\t\t\t\t\tproduct.id === sellRecord.variation\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t</div>\n\n\t\t\t{/* {extraDataSell.locations ? (\n\t\t\t\t<YandexMapLocationsModal\n\t\t\t\t\tsupplierAdress={extraDataSell?.locations}\n\t\t\t\t/>\n\t\t\t) : null} */}\n\t\t</>\n\t);\n}\n\nexport default SellTwo;\n","import React, { useContext, useState } from \"react\";\nimport SellTwo from \"./SellTwo\";\nimport MainContext from \"../MainContext\";\nimport { formatterCurrency } from \"../../../utils/string\";\nimport { dividerPro } from \"../helpers\";\nimport { SlideToggle } from \"react-slide-toggle\";\nimport { useTranslation } from \"react-i18next\";\nimport { getPrice } from \"../../../utils/oxMethods\";\nimport market from \"../../../config/market\";\nimport isSuccessDate from \"./isSuccessDate\";\n\nfunction getDeliveryTimeReadable(durationMinutes) {\n\tlet time = {\n\t\tminut: 0,\n\t\thour: 0,\n\t\tday: 0,\n\t};\n\tlet data = dividerPro(durationMinutes, 60);\n\ttime.minute = data.remain;\n\n\tif (data.result) {\n\t\tlet { result, remain } = dividerPro(data.result, 24);\n\t\ttime.day = result;\n\t\ttime.hour = remain;\n\t}\n\treturn time;\n}\n\nfunction timeRender({ day, minute, hour }) {\n\tlet str =\n\t\t(day ? (day === 1 ? `${day} день` : `${day} дней `) : \"\") +\n\t\t(hour ? (hour === 1 ? `${hour} час` : `${hour} часов `) : \"\") +\n\t\t(minute ? `${minute} минут ` : \"\");\n\n\treturn str;\n}\n\nfunction SellGroupThree({\n\topenShippingServiceModal,\n\tindexOfSellGroup,\n\tsellGroup,\n\tshippingServices,\n}) {\n\tconst { extraDataSell } = useContext(MainContext);\n\tconst [date, setDate] = useState(null);\n\tconst total = sellGroup.sells.reduce((prev, next) => {\n\t\treturn (prev += getPrice(next.subtotal));\n\t}, 0);\n\n\tconst { removeFromCart, setLoadingOverlay } = useContext(MainContext);\n\tconst [shippingServiceName, setShippingServiceName] = useState(\n\t\tshippingServices.find((s) => {\n\t\t\treturn s.totalPrice.max\n\t\t\t\t? getPrice(s.totalPrice.max) >= total &&\n\t\t\t\t\t\tgetPrice(s.totalPrice.min) <= total\n\t\t\t\t: 1;\n\t\t})?.name\n\t);\n\n\tasync function removeAll(sells) {\n\t\tsetLoadingOverlay(true);\n\t\tfor (const sell of sells) {\n\t\t\tfor (const record of sell.sellRecords) {\n\t\t\t\tif (!record.deleted) {\n\t\t\t\t\tawait removeFromCart(record.id, record.variation, () => {});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetLoadingOverlay(false);\n\t}\n\n\tconst { t } = useTranslation();\n\n\tconst [collapse, setCollapse] = useState(false);\n\n\treturn (\n\t\t<div className=\"cart-block-main\">\n\t\t\t<div className=\"filter-item\" key=\"cat\">\n\t\t\t\t<SlideToggle collapsed={false}>\n\t\t\t\t\t{({ onToggle, setCollapsibleElement }) => (\n\t\t\t\t\t\t<div className=\"widget widget-collapsible\">\n\t\t\t\t\t\t\t<div className=\"cart_delivery_info w-100 d-flex align-items-center justify-content-between\">\n\t\t\t\t\t\t\t\t<div className=\"left\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"left_top d-flex align-items-center\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\topenShippingServiceModal({\n\t\t\t\t\t\t\t\t\t\t\t\tmodal: true,\n\t\t\t\t\t\t\t\t\t\t\t\tsellGroup,\n\t\t\t\t\t\t\t\t\t\t\t\tindexOfSellGroup,\n\t\t\t\t\t\t\t\t\t\t\t\tsetShippingServiceName,\n\t\t\t\t\t\t\t\t\t\t\t\tsetDate,\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc={market.config.icons.delivery}\n\t\t\t\t\t\t\t\t\t\t\talt=\"delivery\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<p>{t(\"delivery\")}:</p>&nbsp;\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t{formatterCurrency(\n\t\t\t\t\t\t\t\t\t\t\t\tsellGroup.shippingPrice\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"time\">\n\t\t\t\t\t\t\t\t\t\t\t≈\n\t\t\t\t\t\t\t\t\t\t\t{date\n\t\t\t\t\t\t\t\t\t\t\t\t? date.time\n\t\t\t\t\t\t\t\t\t\t\t\t: timeRender(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetDeliveryTimeReadable(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsellGroup.duration\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t  )}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"right\"\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tsetCollapse(!collapse);\n\t\t\t\t\t\t\t\t\t\tonToggle(e);\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\tclassName={`icon-angle-down ${\n\t\t\t\t\t\t\t\t\t\t\tcollapse ? \"open\" : \"\"\n\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t></i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{ overflow: \"hidden\" }}\n\t\t\t\t\t\t\t\tref={setCollapsibleElement}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{isSuccessDate()}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"widget-body\"\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tborder: isSuccessDate()\n\t\t\t\t\t\t\t\t\t\t\t? \"1px solid #ffd0d0\"\n\t\t\t\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"sell_group\">\n\t\t\t\t\t\t\t\t\t\t{sellGroup.sells.map((sell, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<SellTwo\n\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\tsell={sell}\n\t\t\t\t\t\t\t\t\t\t\t\textraDataSell={extraDataSell}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</SlideToggle>\n\t\t\t</div>\n\t\t\t{market.config.home === 9 ? (\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"btn remove-all\"\n\t\t\t\t\tonClick={() => removeAll(sellGroup.sells)}\n\t\t\t\t>\n\t\t\t\t\t{t(\"clear-all\")}\n\t\t\t\t</button>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n\nexport default SellGroupThree;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport SellTwo from \"./SellTwo\";\nimport MainContext from \"../MainContext\";\nimport { formatterCurrency } from \"../../../utils/string\";\nimport { dividerPro } from \"../helpers\";\nimport Vector from \"../../../assets/images/Vector.png\";\nimport { SlideToggle } from \"react-slide-toggle\";\nimport { useTranslation } from \"react-i18next\";\nimport { getPrice } from \"../../../utils/oxMethods\";\nimport market from \"../../../config/market\";\nimport isSuccessDate from \"./isSuccessDate\";\n\nfunction getDeliveryTimeReadable(durationMinutes) {\n\tlet time = {\n\t\tminut: 0,\n\t\thour: 0,\n\t\tday: 0,\n\t};\n\tlet data = dividerPro(durationMinutes, 60);\n\ttime.minute = data.remain;\n\n\tif (data.result) {\n\t\tlet { result, remain } = dividerPro(data.result, 24);\n\t\ttime.day = result;\n\t\ttime.hour = remain;\n\t}\n\treturn time;\n}\n\nfunction timeRender({ day, minute, hour }) {\n\tlet str =\n\t\t(day ? (day === 1 ? `${day} день` : `${day} дней `) : \"\") +\n\t\t(hour ? (hour === 1 ? `${hour} час` : `${hour} часов `) : \"\") +\n\t\t(minute ? `${minute} минут ` : \"\");\n\n\treturn str;\n}\n\nfunction SellGroupTwo({\n\topenShippingServiceModal,\n\tindexOfSellGroup,\n\tsellGroup,\n\tshippingServices,\n\tlocations,\n}) {\n\tconst { extraDataSell } = useContext(MainContext);\n\tconst [date, setDate] = useState(null);\n\tconst total = sellGroup.sells.reduce((prev, next) => {\n\t\treturn (prev += getPrice(next.subtotal));\n\t}, 0);\n\n\tconst { removeFromCart, setLoadingOverlay } = useContext(MainContext);\n\tconst [shippingServiceName, setShippingServiceName] = useState(\n\t\tshippingServices.find((s) => {\n\t\t\treturn s.totalPrice.max\n\t\t\t\t? getPrice(s.totalPrice.max) >= total &&\n\t\t\t\t\t\tgetPrice(s.totalPrice.min) <= total\n\t\t\t\t: 1;\n\t\t})?.name\n\t);\n\n\tasync function removeAll(sells) {\n\t\tsetLoadingOverlay(true);\n\t\tfor (const sell of sells) {\n\t\t\tfor (const record of sell.sellRecords) {\n\t\t\t\tif (!record.deleted) {\n\t\t\t\t\tawait removeFromCart(record.id, record.variation, () => {});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetLoadingOverlay(false);\n\t}\n\n\tconst { t } = useTranslation();\n\n\tconst [collapse, setCollapse] = useState(false);\n\tconst [workingDay, setWorkingDay] = useState({});\n\tconst weekDays = [\n\t\t{ name: \"Sunday\" },\n\t\t{ name: \"Monday\" },\n\t\t{ name: \"Tuesday\" },\n\t\t{ name: \"Wednesday\" },\n\t\t{ name: \"Thursday\" },\n\t\t{ name: \"Friday\" },\n\t\t{ name: \"Saturday\" },\n\t];\n\n\tuseEffect(() => {\n\t\tif (extraDataSell) {\n\t\t\tconst locationData = extraDataSell.locations.find(\n\t\t\t\t(location) =>\n\t\t\t\t\tlocation.id === sellGroup.sells[0].sellRecords[0].location\n\t\t\t);\n\t\t\tconst days = [];\n\t\t\tif (locationData?.workingDays) {\n\t\t\t\tfor (const day of weekDays) {\n\t\t\t\t\tdays.push({\n\t\t\t\t\t\tname: day.name,\n\t\t\t\t\t\tstartTime:\n\t\t\t\t\t\t\tlocationData.workingDays[\"startTime\" + day.name],\n\t\t\t\t\t\tendTime: locationData.workingDays[\"endTime\" + day.name],\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst today = new Date().getDay();\n\t\t\tsetWorkingDay(days[today]);\n\t\t}\n\t}, [extraDataSell]);\n\n\treturn (\n\t\t<div className=\"cart-block-main\">\n\t\t\t<div className=\"filter-item\" key=\"cat\">\n\t\t\t\t<SlideToggle collapsed={false}>\n\t\t\t\t\t{({ onToggle, setCollapsibleElement }) => (\n\t\t\t\t\t\t<div className=\"widget widget-collapsible\">\n\t\t\t\t\t\t\t<div className=\"cart_delivery_info w-100 d-flex align-items-center justify-content-between\">\n\t\t\t\t\t\t\t\t<div className=\"left\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"left_top d-flex align-items-center\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\topenShippingServiceModal({\n\t\t\t\t\t\t\t\t\t\t\t\tmodal: true,\n\t\t\t\t\t\t\t\t\t\t\t\tsellGroup,\n\t\t\t\t\t\t\t\t\t\t\t\tindexOfSellGroup,\n\t\t\t\t\t\t\t\t\t\t\t\tsetShippingServiceName,\n\t\t\t\t\t\t\t\t\t\t\t\tsetDate,\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<h4 className=\"m-0 mr-2 d-flex align-items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarket.config.home !== 5\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? Vector\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: market.config.icons\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.car\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"vector\"\n\t\t\t\t\t\t\t\t\t\t\t\twidth=\"18\"\n\t\t\t\t\t\t\t\t\t\t\t\theight=\"18\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"m-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t{shippingServiceName}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t<span className=\"m-0\">\n\t\t\t\t\t\t\t\t\t\t\t{formatterCurrency(\n\t\t\t\t\t\t\t\t\t\t\t\tsellGroup.shippingPrice\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"left_bottom\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/images/time.svg\"\n\t\t\t\t\t\t\t\t\t\t\t\twidth=\"15\"\n\t\t\t\t\t\t\t\t\t\t\t\theight=\"15\"\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"time\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"m-0 mr-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t{date\n\t\t\t\t\t\t\t\t\t\t\t\t\t? date.date\n\t\t\t\t\t\t\t\t\t\t\t\t\t: t(\"soon-time\")}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"m-0 time\">\n\t\t\t\t\t\t\t\t\t\t\t\t~\n\t\t\t\t\t\t\t\t\t\t\t\t{date\n\t\t\t\t\t\t\t\t\t\t\t\t\t? date.time\n\t\t\t\t\t\t\t\t\t\t\t\t\t: timeRender(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetDeliveryTimeReadable(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsellGroup.duration\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t  )}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"right\"\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tsetCollapse(!collapse);\n\t\t\t\t\t\t\t\t\t\tonToggle(e);\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\tclassName={`icon-angle-down ${\n\t\t\t\t\t\t\t\t\t\t\tcollapse ? \"open\" : \"\"\n\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t></i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{ overflow: \"hidden\" }}\n\t\t\t\t\t\t\t\tref={setCollapsibleElement}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{workingDay\n\t\t\t\t\t\t\t\t\t? Object.keys(workingDay).length > 0\n\t\t\t\t\t\t\t\t\t\t? isSuccessDate(workingDay)\n\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"widget-body\"\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tborder: isSuccessDate(workingDay)\n\t\t\t\t\t\t\t\t\t\t\t? \"1px solid #ffd0d0\"\n\t\t\t\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"sell_group\">\n\t\t\t\t\t\t\t\t\t\t{sellGroup.sells.map((sell, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<SellTwo\n\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\tsell={sell}\n\t\t\t\t\t\t\t\t\t\t\t\textraDataSell={extraDataSell}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</SlideToggle>\n\t\t\t</div>\n\t\t\t{market.config.home === 9 ? (\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"btn remove-all\"\n\t\t\t\t\tonClick={() => removeAll(sellGroup.sells)}\n\t\t\t\t>\n\t\t\t\t\t{t(\"clear-all\")}\n\t\t\t\t</button>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n\nexport default SellGroupTwo;\n","import React, { Fragment, useContext, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { openModal } from \"../../../actions/modal\";\nimport ShippingServiceModal from \"../../../components/features/modal/ShippingServiceModal\";\nimport market from \"../../../config/market\";\nimport MainContext from \"../MainContext\";\nimport SellGroupThree from \"./SellGroupThree\";\nimport SellGroupTwo from \"./SellGroupTwo\";\n\nexport default function SellGroupsTwo({\n\tsellsGroups,\n\tlocation,\n\tsells,\n\tloadingOverlay,\n\tsetLoadingOverlay\n}) {\n\tconst dispatch = useDispatch();\n\tconst { shippingServices, onChangeShippingService } = useContext(\n\t\tMainContext\n\t);\n\tconst [modal, setModal] = useState({\n\t\tmodal: false\n\t});\n\n\tfunction openShippingServiceModal({\n\t\tmodal,\n\t\tsellGroup,\n\t\tindexOfSellGroup,\n\t\tsetShippingServiceName,\n\t\tsetDate\n\t}) {\n\t\tsetModal({\n\t\t\tmodal: modal,\n\t\t\tsellGroup: sellGroup,\n\t\t\tindexOfSellGroup: indexOfSellGroup,\n\t\t\tsetDate: setDate,\n\t\t\tsetShippingServiceName: setShippingServiceName\n\t\t});\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{market.config.home === 5 ? (\n\t\t\t\t<div\n\t\t\t\t\tclassName={`change-location-banner ${\n\t\t\t\t\t\t!location ? `active` : ``\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<h3>Доставка на Ваш регион не возможна.</h3>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"map-opener\"\n\t\t\t\t\t\tonClick={() => dispatch(openModal(\"map\"))}\n\t\t\t\t\t>\n\t\t\t\t\t\tИзменить местоположение\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t{sellsGroups.map((sellGroup, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Fragment key={i}>\n\t\t\t\t\t\t{market.config.home === 8 ? (\n\t\t\t\t\t\t\t<SellGroupThree\n\t\t\t\t\t\t\t\topenShippingServiceModal={\n\t\t\t\t\t\t\t\t\topenShippingServiceModal\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsellGroup={sellGroup}\n\t\t\t\t\t\t\t\tlocation={location}\n\t\t\t\t\t\t\t\tindexOfSellGroup={i}\n\t\t\t\t\t\t\t\tloadingOverlay={loadingOverlay}\n\t\t\t\t\t\t\t\tsetLoadingOverlay={setLoadingOverlay}\n\t\t\t\t\t\t\t\tshippingServices={shippingServices}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<SellGroupTwo\n\t\t\t\t\t\t\t\topenShippingServiceModal={\n\t\t\t\t\t\t\t\t\topenShippingServiceModal\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsellGroup={sellGroup}\n\t\t\t\t\t\t\t\tlocation={location}\n\t\t\t\t\t\t\t\tindexOfSellGroup={i}\n\t\t\t\t\t\t\t\tshippingServices={shippingServices}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<ShippingServiceModal\n\t\t\t\t\t\t\tonChangeShippingService={onChangeShippingService}\n\t\t\t\t\t\t\tmodal={modal}\n\t\t\t\t\t\t\tsells={sells}\n\t\t\t\t\t\t\tsetModal={setModal}\n\t\t\t\t\t\t\tshippingServices={shippingServices}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n}\n","import React, { useContext } from \"react\";\nimport { formatterCurrency } from \"../../../utils/string\";\nimport MainContext from \"../MainContext\";\nimport {\n\tcalculateSellsDiscount,\n\tcalculateSellsTotal,\n\tcalculateShippingPrice\n} from \"../helpers\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction Totals() {\n\tconst { t } = useTranslation();\n\tconst { sells, sellsGroups } = useContext(MainContext);\n\tconst sellsTotal = calculateSellsTotal(sells);\n\tconst sellsDiscount = calculateSellsDiscount(sells);\n\tconst shippingPrice = calculateShippingPrice(sells, sellsGroups);\n\n\treturn (\n\t\t<div className=\"table-wrapper\">\n\t\t\t<div className=\"table table-summary\">\n\t\t\t\t<div className=\"summary-subtotal\">\n\t\t\t\t\t<p>{t(\"productstwo\")}</p>\n\t\t\t\t\t<span className=\"dashed d-none\" />\n\t\t\t\t\t<p className=\"priceSell\">{formatterCurrency(sellsTotal)}</p>\n\t\t\t\t</div>\n\t\t\t\t{sellsDiscount > 0 ? (\n\t\t\t\t\t<div className=\"summary-subtotal discount\">\n\t\t\t\t\t\t<p>{t(\"discount\")}</p>\n\t\t\t\t\t\t<span className=\"dashed d-none\" />\n\t\t\t\t\t\t<p className=\"priceSell\">\n\t\t\t\t\t\t\t{formatterCurrency(sellsDiscount)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\n\t\t\t\t<div className=\"summary-shipping\">\n\t\t\t\t\t<p>{t(\"delivery\")}:</p>\n\t\t\t\t\t<span className=\"dashed d-none\" />\n\t\t\t\t\t<p className=\"priceSell\">\n\t\t\t\t\t\t{formatterCurrency(shippingPrice)}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Totals;\n","import React, { useContext } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Modal from \"react-modal\";\nimport { openModal } from \"../../../actions/modal\";\nimport market from \"../../../config/market\";\nimport MainContext from \"../../../views/checkout/MainContext\";\nimport {\n\tcalculateSellsDiscount,\n\tcalculateSellsTotal,\n\tcalculateShippingPrice\n} from \"../../../views/checkout/helpers\";\nimport { formatterCurrency } from \"../../../utils/string\";\n\nexport default function InfoSell({ isCheckOut, setIsCheckOut }) {\n\tconst {\n\t\tuserCard,\n\t\tsells,\n\t\tpaymentMethod,\n\t\tonFinishSell,\n\t\tpaymentMethods,\n\t\tsellsGroups,\n\t\tpaymentMethodWithBalance\n\t} = useContext(MainContext);\n\tconst dispatch = useDispatch();\n\n\tconst { location } = useSelector(state => state.user);\n\tconst yuuKassa = paymentMethods.find(p => p.gatewayType === \"yuu_kassa\");\n\tconst cash = paymentMethods.find(p => p.cash === true);\n\tconst sellsTotal = calculateSellsTotal(sells);\n\tconst sellsDiscount = calculateSellsDiscount(sells);\n\tconst shippingPrice = calculateShippingPrice(sells, sellsGroups);\n\tconst totalPrice =\n\t\tsellsTotal + shippingPrice - paymentMethodWithBalance - sellsDiscount;\n\n\tfunction buy() {\n\t\tif (paymentMethod) {\n\t\t\tonFinishSell(userCard ? userCard : cash ? cash : yuuKassa);\n\t\t\tsetIsCheckOut(false);\n\t\t} else dispatch(openModal(\"usercard\"));\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isCheckOut}\n\t\t\tonRequestClose={() => setIsCheckOut(false)}\n\t\t\tstyle={{\n\t\t\t\toverlay: {\n\t\t\t\t\tzIndex: \"9999\"\n\t\t\t\t}\n\t\t\t}}\n\t\t\tclassName=\"info_sell_modal\"\n\t\t\tid=\"info_sell_modal\"\n\t\t>\n\t\t\t<div className=\"info_sell_content\">\n\t\t\t\t<div className=\"info_sell_header d-flex align-items-center\">\n\t\t\t\t\t<div onClick={() => setIsCheckOut(false)}>\n\t\t\t\t\t\t<i className=\"icon-arrow-left\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h3 className=\"w-100 text-center\">Оформление заказа</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"info_sell_body\">\n\t\t\t\t\t<div className=\"location d-flex align-items-center\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={market.config.icons.location}\n\t\t\t\t\t\t\talt=\"location icon\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p>{location.address.addressLine1}</p>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tonClick={() => dispatch(openModal(\"map\"))}\n\t\t\t\t\t\t\tsrc={market.config.icons.settings}\n\t\t\t\t\t\t\talt=\"settings icon\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"comment d-flex align-items-center\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={market.config.icons.comment}\n\t\t\t\t\t\t\talt=\"comment icon\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p>Комментарий</p>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonClick={() => dispatch(openModal(\"comment\"))}\n\t\t\t\t\t\t\tclassName=\"d-flex align-items-center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p className=\"add m-0 mr-2\">Добавить</p>\n\t\t\t\t\t\t\t<i className=\"icon-angle-right\"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"info_sell_payment\">\n\t\t\t\t\t\t<h5>Оплата</h5>\n\t\t\t\t\t\t<div className=\"payment\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={market.config.icons.wallet}\n\t\t\t\t\t\t\t\talt=\"wallet icon\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p>Способ оплаты</p>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"d-flex align-items-center\"\n\t\t\t\t\t\t\t\tonClick={() => dispatch(openModal(\"usercard\"))}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<p className=\"card-number\">\n\t\t\t\t\t\t\t\t\t{userCard ? userCard.name : \"Добавить\"}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<i className=\"icon-angle-right\"></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"promo_code\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={market.config.icons.promocode}\n\t\t\t\t\t\t\t\talt=\"promocode icon\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p>Промокод</p>\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t\t\t\t\t<p className=\"add\">Добавить</p>\n\t\t\t\t\t\t\t\t<i className=\"icon-angle-right\"></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"info_sell_price flex-grow-1\">\n\t\t\t\t\t\t<h5>К оплате</h5>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p>Товары</p>\n\t\t\t\t\t\t\t<p>{formatterCurrency(sellsTotal)}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p>Доставка</p>\n\t\t\t\t\t\t\t<p>{formatterCurrency(shippingPrice)}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{sellsDiscount > 0 ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p>Скидка</p>\n\t\t\t\t\t\t\t\t<p>{formatterCurrency(sellsDiscount)}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<div className=\"total\">\n\t\t\t\t\t\t\t<p>Итого</p>\n\t\t\t\t\t\t\t<p>{formatterCurrency(totalPrice)}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"button\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tbuy();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tЗаказать\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","import React, { useContext, useState } from \"react\";\nimport TotalsTwo from \"./TotalsTwo\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tcalculateSellsDiscount,\n\tcalculateSellsTotal,\n\tcalculateShippingPrice,\n} from \"../helpers\";\nimport { getUserCard } from \"../../../api/user\";\nimport { formatterCurrency } from \"../../../utils/string\";\nimport { debounce } from \"../../../utils/debounce\";\nimport MainContext from \"../MainContext\";\nimport vector2 from \"../../../assets/images/Vector2.png\";\nimport commentIcon from \"../../../assets/images/CommentIcon.png\";\nimport { openModal } from \"../../../actions/modal\";\nimport { useEffect } from \"react\";\nimport AddUserCard from \"../../../components/features/modal/UserCard/AddUserCardModal\";\nimport { useTranslation } from \"react-i18next\";\nimport market from \"../../../config/market\";\nimport PaymentMethods from \"./payment/PaymentMethods\";\nimport { removeFromCartState } from \"../../../actions/cart\";\nimport InfoSell from \"../../../components/features/modal/InfoSell\";\nimport { getFranchise } from \"../../../api/cart\";\nimport YandexMap from \"../../../components/features/modal/YandexMapModal\";\n\nfunction SidebarTwo({\n\tlocation,\n\tsells,\n\tonFinishSell,\n\tsetPaymentMethod,\n\tloader,\n}) {\n\tconst {\n\t\tsellsGroups,\n\t\tpaymentMethodWithBalance,\n\t\tpaymentMethods,\n\t\tpaymentMethod,\n\t\tuserCard,\n\t\tuserCards,\n\t\tonChangePaymentMethod,\n\t\tsetUserCard,\n\t\tsetUserCards,\n\t\tcomment,\n\t\tgetAvailableSellsIds,\n\t} = useContext(MainContext);\n\n\tconst dispatch = useDispatch();\n\tconst address = useSelector((state) => state.user.location.address);\n\tconst { token } = useSelector((state) => state.user.tokenData);\n\tconst sellsTotal = calculateSellsTotal(sells);\n\tconst sellsDiscount = calculateSellsDiscount(sells);\n\tconst shippingPrice = calculateShippingPrice(sells, sellsGroups);\n\tconst totalPrice =\n\t\tsellsTotal + shippingPrice - paymentMethodWithBalance - sellsDiscount;\n\tconst [scrollBottom, setScrollBottom] = useState(false);\n\tconst locations = useSelector((state) => state.user.user.roleLocationIds);\n\tconst [switcher, setSwitcher] = useState(false);\n\tconst [isCheckOut, setIsCheckOut] = useState(false);\n\tconst [switcherTwo, setSwitcherTwo] = useState(false);\n\tconst { t } = useTranslation();\n\tconst multiCard = paymentMethods.find(\n\t\t(p) => p.gatewayType === \"multicard_payment_collection\"\n\t);\n\tconst yuuKassa = paymentMethods.find((p) => p.gatewayType === \"yuu_kassa\");\n\tconst allowDebt = useSelector((state) => state.marketData.allowDebt);\n\tconst cash = paymentMethods.find((p) => p.cash === true);\n\tconst sellIds = getAvailableSellsIds(sells);\n\tconst userType = useSelector((state) => state.user.user.type);\n\n\t// const [franchise, setFranchise] = useState();\n\n\tconst [dataInfo, setDataInfo] = useState(\n\t\tlocations.length > 0\n\t\t\t? {\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tlocation: locations[0].id,\n\t\t\t\t\t\tmargin: 1,\n\t\t\t\t\t\troundingTarget: null,\n\t\t\t\t\t\twillReview: false,\n\t\t\t\t\t},\n\t\t\t  }\n\t\t\t: null\n\t);\n\n\tconst rounding = [\n\t\t`${t(\"no_round\")}`,\n\t\t`${t(\"round_up_to_1\")}`,\n\t\t`${t(\"round_up_to_0.5\")}`,\n\t\t`${t(\"round_up_to_100\")}`,\n\t\t`${t(\"round_up_to_500\")}`,\n\t\t`${t(\"round_up_to_800\")}`,\n\t\t`${t(\"round_up_to_900\")}`,\n\t\t`${t(\"round_up_to_1000\")}`,\n\t];\n\n\tfunction openMapModal(e) {\n\t\tdispatch(openModal(\"map\"));\n\t\te.preventDefault();\n\t}\n\n\tlet scrollEvent = () => {\n\t\tdebounce(\n\t\t\t() => {\n\t\t\t\tconst scrollToBottom =\n\t\t\t\t\twindow.innerHeight +\n\t\t\t\t\twindow.scrollY -\n\t\t\t\t\tdocument.body.scrollHeight;\n\n\t\t\t\tif (-scrollToBottom < 80) {\n\t\t\t\t\tsetScrollBottom(true);\n\t\t\t\t} else {\n\t\t\t\t\tsetScrollBottom(false);\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"scrollPay\",\n\t\t\t10\n\t\t);\n\t};\n\n\tfunction openPayment() {\n\t\tdispatch(openModal(\"usercard\"));\n\t}\n\n\tuseEffect(() => {\n\t\twindow.addEventListener(\"scroll\", scrollEvent);\n\t\tgetUserCard(token).then((res) => {\n\t\t\tsetUserCards(res);\n\t\t});\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"scroll\", scrollEvent);\n\t\t};\n\t}, []);\n\n\tconst cart = useSelector((state) => state.cartlist.cart);\n\n\tfunction clicked() {\n\t\tif (paymentMethod) {\n\t\t\tif (dataInfo && sellIds && userType === \"employee\") {\n\t\t\t\tsellIds.forEach((id) => {\n\t\t\t\t\tgetFranchise(id, dataInfo, token);\n\t\t\t\t});\n\t\t\t}\n\t\t\tonFinishSell(userCard ? userCard : cash ? cash : yuuKassa);\n\t\t\tfor (let i = 0; i < cart.length; i++) {\n\t\t\t\tsells.map((item) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\titem.sellRecords.find(\n\t\t\t\t\t\t\t(record) => record.stock === cart[i].data.stock.id\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\tremoveFromCartState(cart[i].data.variation.id, true)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn () => {};\n\t\t\t\t});\n\t\t\t}\n\t\t} else openPayment();\n\t}\n\tfunction roundingCheck(e) {\n\t\tconst str = e.target.value;\n\t\tconst regex = /\\d/;\n\t\tconst doesItHaveNumber = regex.test(str);\n\t\tif (doesItHaveNumber) {\n\t\t\tconst NUMERIC_REGEXP = /[-]{0,1}[\\d]*[.]{0,1}[\\d]+/g;\n\t\t\tconst numbers = e.target.value.match(NUMERIC_REGEXP);\n\t\t\tsetDataInfo({\n\t\t\t\t...dataInfo,\n\t\t\t\toptions: {\n\t\t\t\t\t...dataInfo.options,\n\t\t\t\t\troundingTarget: numbers[0],\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"sidebar_two\">\n\t\t\t{market.config.home !== 5 ? (\n\t\t\t\t<div className=\"summary summary-cart\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TotalsTwo />\n\t\t\t\t\t\t<div className=\"summary-shipping-estimate\">\n\t\t\t\t\t\t\t<p>{address ? address.name : \"Адрес не выбран\"}</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tpadding: \"0\",\n\t\t\t\t\t\t\t\t\t\tmarginTop: \"5px\",\n\t\t\t\t\t\t\t\t\t\ttextDecoration: \"underline\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={openMapModal}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc={vector2}\n\t\t\t\t\t\t\t\t\t\talt=\"vector\"\n\t\t\t\t\t\t\t\t\t\twidth=\"15\"\n\t\t\t\t\t\t\t\t\t\theight=\"15\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"summary-user_card\">\n\t\t\t\t\t\t\t<PaymentMethods />\n\t\t\t\t\t\t\t<div className=\"payments d-flex align-items-center justify-content-between w-100\">\n\t\t\t\t\t\t\t\t<p>{t(\"payment\")}:</p>\n\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={() => openPayment()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userCard\n\t\t\t\t\t\t\t\t\t\t? userCard.name\n\t\t\t\t\t\t\t\t\t\t: t(\"select-payment\")}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"promo_code d-none\">\n\t\t\t\t\t\t\t<p>{t(\"promocode\")}</p>\n\t\t\t\t\t\t\t<p className=\"add\">{t(\"add\")}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"summary-add_comment\"\n\t\t\t\t\t\tonClick={() => dispatch(openModal(\"comment\"))}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={commentIcon}\n\t\t\t\t\t\t\talt=\"comment icon\"\n\t\t\t\t\t\t\twidth=\"20\"\n\t\t\t\t\t\t\theight=\"20\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p>{comment ? comment : t(\"add_comment\")}</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"summary-pay-info\"\n\t\t\t\t\t\tstyle={{ opacity: scrollBottom ? \"1\" : \"0\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"d-flex align-items-center justify-content-between\">\n\t\t\t\t\t\t\t<p>{t(\"total_count\")}</p>\n\n\t\t\t\t\t\t\t<p>{formatterCurrency(totalPrice)}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{allowDebt && locations.length > 0 ? (\n\t\t\t\t\t\t\t<div className=\"debt-trading\">\n\t\t\t\t\t\t\t\t<div className=\"debt-body\">\n\t\t\t\t\t\t\t\t\t<div className=\"debt-location\">\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t{t(\"auto_arrival_location\")}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\tname=\"\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetDataInfo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t...dataInfo,\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...dataInfo.options,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocation: locations.find(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(item) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.name ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{locations.map((item, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<option name=\"location\" key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"will-rewiev\">\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t{t(\"arrival_with_inventory\")}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={`switcher ${\n\t\t\t\t\t\t\t\t\t\t\t\tswitcher ? `active` : ``\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetSwitcher(!switcher);\n\t\t\t\t\t\t\t\t\t\t\t\tsetDataInfo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t...dataInfo,\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...dataInfo.options,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twillReview: !dataInfo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.options.willReview,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"switch\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"will-rewiev\">\n\t\t\t\t\t\t\t\t\t\t<span>{t(\"change_sale_price\")}</span>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={`switcher ${\n\t\t\t\t\t\t\t\t\t\t\t\tswitcherTwo ? `active` : ``\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetSwitcherTwo(!switcherTwo);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"switch\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{switcherTwo ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"percent-round-up\">\n\t\t\t\t\t\t\t\t\t\t\t<span>{t(\"product_markup\")}</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"debt-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDataInfo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...dataInfo,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...dataInfo.options,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin: parseFloat(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"1.00\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\troundingCheck(e)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{rounding.map((item, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"rounding\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t<div className=\"warning\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"img\">\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/images/megaphone.svg\"\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"warning\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-content\">\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{t(\"attention\")}</b>\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>{t(\"after_confirming\")}</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tgetAvailableSellsIds(sells).length === 0 ||\n\t\t\t\t\t\t\t\t!paymentMethod ||\n\t\t\t\t\t\t\t\tloader\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\t\t\t\tonClick={clicked}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{paymentMethod\n\t\t\t\t\t\t\t\t? paymentMethod.cash\n\t\t\t\t\t\t\t\t\t? t(\"pay\")\n\t\t\t\t\t\t\t\t\t: t(\"pay_two\")\n\t\t\t\t\t\t\t\t: t(\"select-payment\")}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`pay_wrapper`}\n\t\t\t\t\t\t// style={{ ...styleNav, transition: \"0.3s\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"pay_info\">\n\t\t\t\t\t\t\t<p>{t(\"payment_count\")}</p>\n\t\t\t\t\t\t\t<p className=\"sale_price\">\n\t\t\t\t\t\t\t\t{formatterCurrency(totalPrice)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tgetAvailableSellsIds(sells).length === 0 ||\n\t\t\t\t\t\t\t\tloader\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-primary-2 btn-order btn-block pay-btn\"\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tpaymentMethod\n\t\t\t\t\t\t\t\t\t? onFinishSell(\n\t\t\t\t\t\t\t\t\t\t\tuserCard\n\t\t\t\t\t\t\t\t\t\t\t\t? userCard\n\t\t\t\t\t\t\t\t\t\t\t\t: cash\n\t\t\t\t\t\t\t\t\t\t\t\t? cash\n\t\t\t\t\t\t\t\t\t\t\t\t: yuuKassa\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t: openPayment()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"pay\")}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div\n\t\t\t\t\tclassName={`pay_wrapper`}\n\t\t\t\t\t// style={{ ...styleNav, transition: \"0.3s\" }}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"pay_info\">\n\t\t\t\t\t\t<p className=\"sale_price\">\n\t\t\t\t\t\t\t{formatterCurrency(totalPrice)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`btn btn-primary btn-order btn-block pay-btn`}\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t(market.config.home === 5 && !location) || loader\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={() => setIsCheckOut(!isCheckOut)}\n\t\t\t\t\t>\n\t\t\t\t\t\tК оформлению\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<AddUserCard\n\t\t\t\tsetUserCards={setUserCards}\n\t\t\t\tonChangePaymentMethod={onChangePaymentMethod}\n\t\t\t\tuserCards={userCards}\n\t\t\t\tuserCard={userCard}\n\t\t\t\tyuuKassa={\n\t\t\t\t\tmarket.subdomain === \"demomarketplace\" ? yuuKassa : null\n\t\t\t\t}\n\t\t\t\tmultiCard={multiCard}\n\t\t\t\tcash={cash}\n\t\t\t\tsetPaymentMethod={setPaymentMethod}\n\t\t\t\tsetUserCard={setUserCard}\n\t\t\t/>\n\t\t\t<YandexMap />\n\t\t\t<InfoSell isCheckOut={isCheckOut} setIsCheckOut={setIsCheckOut} />\n\t\t</div>\n\t);\n}\n\nexport default SidebarTwo;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tfinishSell,\n\tgetCartSupplier,\n\tgetUserCart,\n\tshippingCalculate,\n\tupdateToCartApi,\n} from \"../../api/cart\";\nimport { closeModal, openModal } from \"../../actions/modal\";\nimport LoaderOverlay from \"../../components/features/loaders/LoaderOverlay\";\nimport {\n\tgetAvailableSellsIds,\n\tgetDefaultShippingCalculateData,\n\tgetShippingCalculateData,\n\treplaceSellFromSells,\n\tselectAvailableSellsForPaymentMethod,\n\tsetSellsToSellsGroups,\n\tsetSellsToSellGroup,\n\tsetShippingServiceToSellGroup,\n\tsetShippingServiceToSellsGroups,\n\tlogger,\n\tfilterSells,\n} from \"./helpers\";\nimport BackButton from \"../../components/common/BackButton\";\nimport AddCommentModal from \"../../components/features/modal/AddCommentModal\";\nimport YandexMapModalTwo from \"../../components/features/modal/YandexMapModalTwo\";\nimport MainContext from \"./MainContext\";\nimport SellGroupsTwo from \"./sells/SellGroupsTwo\";\nimport SidebarTwo from \"./sidebar/SidebarTwo\";\nimport LoadingWrapper from \"./LoadingWrapper\";\nimport { removeToCartApi } from \"../../api/cart\";\nimport { toast } from \"react-toastify\";\nimport {\n\tremoveFromCartState,\n\tchangeQty,\n\temptyCart,\n\tsetUserCart,\n} from \"../../actions/cart\";\nimport EmptyCart from \"../../components/features/cart/EmptyCart\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport market from \"../../config/market\";\nimport RiveLoader from \"../../components/features/loaders/RiveLoader\";\nimport AddressList from \"../profile/addresses/AddressList\";\n\nconst toastOptions = { position: \"top-left\" };\n\nexport default function CheckoutTwo() {\n\tconst dispatch = useDispatch();\n\tconst h = useHistory();\n\tconst { t } = useTranslation();\n\tconst user = useSelector((state) => state.user);\n\tconst { token } = useSelector((state) => state.user.tokenData);\n\tconst {\n\t\tshippingServices,\n\t\tcashdesk: { paymentMethods },\n\t} = useSelector((state) => state.marketData);\n\tconst [chooseCoordinate, setChooseCoordinate] = useState(false);\n\tconst { coordinate, address } = user.location;\n\tconst [sells, setSellsPlain] = useState([]);\n\tconst [sellsGroups, setSellsGroups] = useState([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [loadingOverlay, setLoadingOverlay] = useState(false);\n\tconst [paymentMethod, setPaymentMethod] = useState();\n\tconst [paymentMethodWithBalance, setPaymentMethodWithBalance] = useState(0);\n\tconst [extraDataSell, setExtraDataSell] = useState();\n\tconst [userCards, setUserCards] = useState(null);\n\tconst [userCard, setUserCard] = useState(null);\n\tconst [loader, setLoader] = useState(false);\n\tconst [comment, setComment] = useState();\n\tconst [shippingDate, setShippingDate] = useState();\n\tconst notAvailable = [];\n\tconst setSells = (sells) =>\n\t\tsetSellsPlain(selectAvailableSellsForPaymentMethod(sells));\n\n\tlet mount = true;\n\tconst shippingAddress = useSelector((state) =>\n\t\tstate.user.user?.addresses?.filter((a) => a.type === \"shipping\")\n\t);\n\n\tasync function getInit() {\n\t\tdispatch(closeModal());\n\t\ttry {\n\t\t\tlet sells = await getUserCart(token);\n\n\t\t\tsells = filterSells(sells);\n\n\t\t\tif (sells.length) {\n\t\t\t\tlet { data, shippingService } = getDefaultShippingCalculateData(\n\t\t\t\t\tsells,\n\t\t\t\t\tshippingServices,\n\t\t\t\t\tcoordinate\n\t\t\t\t);\n\t\t\t\tconst sellsGroups = await shippingCalculate(data, token);\n\n\t\t\t\tif (mount) {\n\t\t\t\t\tsetSells(sells);\n\t\t\t\t\tdispatch(setUserCart(sells));\n\t\t\t\t\tsetSellsGroups(\n\t\t\t\t\t\tsetShippingServiceToSellsGroups(\n\t\t\t\t\t\t\tshippingService,\n\t\t\t\t\t\t\tsellsGroups\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tlogger(sellsGroups);\n\t\t\t\t}\n\t\t\t\tif (token) {\n\t\t\t\t\tgetCartSupplier(token).then((res) => {\n\t\t\t\t\t\tif (mount) {\n\t\t\t\t\t\t\tsetExtraDataSell(res);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatch(emptyCart());\n\t\t\t}\n\t\t\tif (mount) {\n\t\t\t\tsetLoading(false);\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\t// console.log(error.response);\n\t\t\ttoast.error(t(\"shipping_error\"), toastOptions);\n\t\t\tif (\n\t\t\t\terror.response?.data?.error ||\n\t\t\t\terror.response?.data?.items ===\n\t\t\t\t\t\"Sell store geolocation is not present\"\n\t\t\t) {\n\t\t\t\ttoast.error(t(\"geolocation_not_specified\"), toastOptions);\n\t\t\t} else {\n\t\t\t\ttoast.error(\n\t\t\t\t\terror.response?.data?.error || error.response?.data?.items,\n\t\t\t\t\ttoastOptions\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (mount) {\n\t\t\t\tsetLoading(false);\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onChangePaymentMethod(payment) {\n\t\tsetPaymentMethod(payment);\n\t\tsetSellsPlain([\n\t\t\t...selectAvailableSellsForPaymentMethod(\n\t\t\t\tsells,\n\t\t\t\tpayment,\n\t\t\t\tpaymentMethods,\n\t\t\t\textraDataSell\n\t\t\t),\n\t\t]);\n\t}\n\n\tfunction onFinishSell(payment) {\n\t\tsetLoadingOverlay(true);\n\t\tfinishSell(\n\t\t\tgetAvailableSellsIds(sells),\n\t\t\tpaymentMethod.id,\n\t\t\t!paymentMethod.cash && {\n\t\t\t\tbankCard: { id: payment.id },\n\t\t\t},\n\t\t\tcomment,\n\t\t\t{\n\t\t\t\tcountryCode: address.countryCode,\n\t\t\t\tadministrativeArea: address.administrativeArea,\n\t\t\t\tlocality: address.locality || address.region,\n\t\t\t\tdependentLocality: address.dependentLocality,\n\t\t\t\taddressLine1: address.addressLine1 || address.addressLine1,\n\t\t\t\tlatitude: address.latitude,\n\t\t\t\tlongitude: address.longitude,\n\t\t\t\tpostalCode: address.postalCode,\n\t\t\t},\n\t\t\ttoken,\n\t\t\twindow.location.origin + \"/profile\",\n\t\t\tshippingDate\n\t\t)\n\t\t\t.then(({ url }) => {\n\t\t\t\tif (url) window.open(url, \"_blank\").focus();\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t\ttoast.success(t(\"purchese_sucsessfuly\"), {\n\t\t\t\t\tposition: \"top-left\",\n\t\t\t\t});\n\t\t\t\th.push(\"/profile\");\n\t\t\t})\n\t\t\t.catch(async (err) => {\n\t\t\t\tif (err.response?.data?.form?.children?.sells?.errors?.length) {\n\t\t\t\t\tfor (const error of err.response?.data?.form?.children\n\t\t\t\t\t\t?.sells?.errors) {\n\t\t\t\t\t\tconst sell = error.split(\" \");\n\t\t\t\t\t\tsell.forEach((s) =>\n\t\t\t\t\t\t\tNumber(s) ? notAvailable.push(Number(s)) : null\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const sell of sells) {\n\t\t\t\t\t\tfor (const record of sell.sellRecords) {\n\t\t\t\t\t\t\tif (notAvailable.find((s) => s === record.id)) {\n\t\t\t\t\t\t\t\trecord.message = t(\"amount-balance\");\n\t\t\t\t\t\t\t\tsetLoadingOverlay(true);\n\t\t\t\t\t\t\t\tawait removeFromCart(\n\t\t\t\t\t\t\t\t\trecord.id,\n\t\t\t\t\t\t\t\t\trecord.variation,\n\t\t\t\t\t\t\t\t\t() => {}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tsetLoadingOverlay(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tsetLoadingOverlay(false);\n\t\t\t\t\treturn sells;\n\t\t\t\t}\n\t\t\t\ttoast.error(t(\"amount-balance\"), toastOptions);\n\t\t\t\tconsole.log(err.response);\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t});\n\t}\n\n\tasync function onChangeShippingService(\n\t\tsellIds,\n\t\tshippingService,\n\t\tindexOfSellGroup,\n\t\tdate\n\t) {\n\t\ttry {\n\t\t\tsetLoadingOverlay(true);\n\n\t\t\tconst data = getShippingCalculateData(\n\t\t\t\tsellIds,\n\t\t\t\tshippingService,\n\t\t\t\tdate,\n\t\t\t\tuser.location.coordinate\n\t\t\t);\n\n\t\t\tif (data.shippingTime) {\n\t\t\t\tsetShippingDate(data.shippingTime);\n\t\t\t}\n\t\t\tconst [sellGroup] = await shippingCalculate(data, token);\n\n\t\t\tlet sellsGroupsCopy = sellsGroups.slice();\n\t\t\tsellsGroupsCopy[indexOfSellGroup] = setSellsToSellGroup(\n\t\t\t\tsells,\n\t\t\t\tsetShippingServiceToSellGroup(shippingService, sellGroup)\n\t\t\t);\n\n\t\t\tsetSellsGroups(sellsGroupsCopy);\n\n\t\t\tsetLoadingOverlay(false);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\talert(\"error\");\n\t\t\tsetLoadingOverlay(false);\n\t\t}\n\t}\n\n\tasync function onChange(count, id, variationId, setLoadingRecord) {\n\t\tsetLoadingRecord(true);\n\t\tsetLoader(true);\n\t\tif (!count) {\n\t\t\tremoveFromCart(id, variationId, setLoadingRecord);\n\t\t} else {\n\t\t\tdispatch(changeQty(variationId, count, token));\n\t\t\tawait updateToCartApi(parseInt(count), id, token)\n\t\t\t\t.then((sell) => {\n\t\t\t\t\tsetSells(replaceSellFromSells(sell, sells));\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t\tsetLoadingRecord(false);\n\t\t\t\t});\n\t\t\tlet { data } = getDefaultShippingCalculateData(\n\t\t\t\tsells,\n\t\t\t\tshippingServices,\n\t\t\t\tcoordinate\n\t\t\t);\n\n\t\t\tawait shippingCalculate(data, token);\n\t\t\tsetLoadingRecord(false);\n\t\t\tsetLoader(false);\n\t\t}\n\t}\n\n\tfunction removeFromCart(id, variationId, setLoadingRecord) {\n\t\tdispatch(removeFromCartState(variationId));\n\t\treturn removeToCartApi(id, token)\n\t\t\t.then((sell) => {\n\t\t\t\tsetSells(replaceSellFromSells(sell, sells));\n\t\t\t\tsetLoadingRecord(false);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tsetLoadingRecord(false);\n\t\t\t\ttoast.error(e.response?.data?.message, toastOptions);\n\t\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tif (mount) {\n\t\t\tsetSellsGroups((sellsGroups) =>\n\t\t\t\tsetSellsToSellsGroups(sells, sellsGroups)\n\t\t\t);\n\t\t}\n\t}, [sells]);\n\n\tuseEffect(() => {\n\t\tif (!token) {\n\t\t\th.push(\"/login\", {\n\t\t\t\tprevPathname: h.location.pathname,\n\t\t\t});\n\t\t}\n\t\tif (!coordinate) {\n\t\t\tif (window.webview) {\n\t\t\t\twindow.sendMessageToApp(\"OPEN_LOCATION\");\n\t\t\t} else {\n\t\t\t\tsetChooseCoordinate(true);\n\t\t\t}\n\t\t} else {\n\t\t\tgetInit();\n\t\t\tsetChooseCoordinate(false);\n\t\t}\n\t}, [coordinate]);\n\n\tuseEffect(() => {\n\t\tif (market.config.home === 5 && window.innerWidth <= 1000) {\n\t\t\tconst header = document.querySelector(\".header-six\");\n\t\t\theader.setAttribute(\"style\", \"display: none\");\n\t\t\treturn () => {\n\t\t\t\tconst header = document.querySelector(\".header-six\");\n\t\t\t\theader.setAttribute(\"style\", \"\");\n\t\t\t};\n\t\t}\n\t}, []);\n\tconst location =\n\t\tuser.location?.address?.administrativeArea === \"Ташкент\" ||\n\t\tuser.location?.address?.locality === \"Ташкент\" ||\n\t\tuser.location?.address?.region === \"Ташкент\";\n\treturn (\n\t\t<MainContext.Provider\n\t\t\tvalue={{\n\t\t\t\tuser: user,\n\t\t\t\ttoken: token,\n\t\t\t\tshippingServices: shippingServices,\n\t\t\t\tsells: sells,\n\t\t\t\tpaymentMethods: paymentMethods,\n\t\t\t\tpaymentMethodWithBalance: paymentMethodWithBalance,\n\t\t\t\tsetPaymentMethodWithBalance: setPaymentMethodWithBalance,\n\t\t\t\tsetSells: setSells,\n\t\t\t\tsellsGroups: sellsGroups,\n\t\t\t\tsetSellsGroups: setSellsGroups,\n\t\t\t\tpaymentMethod: paymentMethod,\n\t\t\t\tonFinishSell: onFinishSell,\n\t\t\t\tsetPaymentMethod: setPaymentMethod,\n\t\t\t\tonChangePaymentMethod: onChangePaymentMethod,\n\t\t\t\tsetLoadingOverlay: setLoadingOverlay,\n\t\t\t\tremoveFromCart: removeFromCart,\n\t\t\t\tonChange: onChange,\n\t\t\t\tgetAvailableSellsIds: getAvailableSellsIds,\n\t\t\t\textraDataSell: extraDataSell,\n\t\t\t\tonChangeShippingService: onChangeShippingService,\n\t\t\t\tuserCard: userCard,\n\t\t\t\tuserCards: userCards,\n\t\t\t\tcomment: comment,\n\t\t\t\tsetComment: setComment,\n\t\t\t\tsetUserCards: setUserCards,\n\t\t\t\tsetUserCard: setUserCard,\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"main checkout_two\">\n\t\t\t\t<div className=\"checkout_header\">\n\t\t\t\t\t<BackButton icon={market.config.icons.backArrow} />\n\t\t\t\t\t<h3>{t(\"cart\")}</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"page-content\">\n\t\t\t\t\t{chooseCoordinate ? (\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t{shippingAddress.length > 0 ? (\n\t\t\t\t\t\t\t\t<AddressList\n\t\t\t\t\t\t\t\t\tshippingAddress={shippingAddress}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<div className=\"d-flex align-item-center flex-column mt-3\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn bg-primary text-white mx-auto\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (window.webview) {\n\t\t\t\t\t\t\t\t\t\t\twindow.sendMessageToApp(\n\t\t\t\t\t\t\t\t\t\t\t\t\"OPEN_LOCATION\"\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdispatch(openModal(\"map\"));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"address-not-selected\")}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<h3 className=\"text-center mt-3\">\n\t\t\t\t\t\t\t\t\t{t(\"choose_address\")}\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : loading ? (\n\t\t\t\t\t\tmarket.config.loader ? (\n\t\t\t\t\t\t\t<RiveLoader />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<LoaderOverlay wrapper={true} />\n\t\t\t\t\t\t)\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"cart cart-two\">\n\t\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t\t{sells.length ? (\n\t\t\t\t\t\t\t\t\t<LoadingWrapper loading={loadingOverlay}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-8 col-12\">\n\t\t\t\t\t\t\t\t\t\t\t<SellGroupsTwo\n\t\t\t\t\t\t\t\t\t\t\t\tlocation={location}\n\t\t\t\t\t\t\t\t\t\t\t\tsellsGroups={sellsGroups}\n\t\t\t\t\t\t\t\t\t\t\t\tsells={sells}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-4 col-12\">\n\t\t\t\t\t\t\t\t\t\t\t<SidebarTwo\n\t\t\t\t\t\t\t\t\t\t\t\tlocation={location}\n\t\t\t\t\t\t\t\t\t\t\t\tsetPaymentMethod={\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetPaymentMethod\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\textraDataSell={extraDataSell}\n\t\t\t\t\t\t\t\t\t\t\t\tsells={sells}\n\t\t\t\t\t\t\t\t\t\t\t\tloader={loader}\n\t\t\t\t\t\t\t\t\t\t\t\tonFinishSell={onFinishSell}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</LoadingWrapper>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<EmptyCart />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<YandexMapModalTwo />\n\t\t\t\t<AddCommentModal />\n\t\t\t</div>\n\t\t</MainContext.Provider>\n\t);\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tfinishSell,\n\tgetCartSupplier,\n\tgetUserCart,\n\tsendWithDataPayment,\n\tshippingCalculate,\n\tupdateToCartApi,\n} from \"../../api/cart\";\nimport { openModal } from \"../../actions/modal\";\nimport LoaderOverlay from \"../../components/features/loaders/LoaderOverlay\";\nimport {\n\tgetAvailableSellsIds,\n\tgetDefaultShippingCalculateData,\n\tgetShippingCalculateData,\n\treplaceSellFromSells,\n\tselectAvailableSellsForPaymentMethod,\n\tsetSellsToSellsGroups,\n\tsetSellsToSellGroup,\n\tsetShippingServiceToSellGroup,\n\tsetShippingServiceToSellsGroups,\n\tlogger,\n\tfilterSells,\n} from \"./helpers\";\nimport YandexMapModal from \"../../components/features/modal/YandexMapModal\";\nimport MainContext from \"./MainContext\";\nimport SellGroups from \"./sells/SellGroups\";\nimport Sidebar from \"./sidebar/Sidebar\";\nimport LoadingWrapper from \"./LoadingWrapper\";\nimport { removeToCartApi } from \"../../api/cart\";\nimport { toast } from \"react-toastify\";\nimport {\n\tremoveFromCartState,\n\tchangeQty,\n\temptyCart,\n\tsetUserCart,\n} from \"../../actions/cart\";\nimport EmptyCart from \"../../components/features/cart/EmptyCart\";\nimport PaymentModal from \"./sidebar/payment/PaymentModal\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport AddressList from \"../profile/addresses/AddressList\";\nimport { logoutUser } from \"../../actions/user\";\n\nconst toastOptions = { position: \"top-left\" };\n\nexport default function Checkout() {\n\tconst dispatch = useDispatch();\n\tconst h = useHistory();\n\tconst user = useSelector((state) => state.user);\n\tconst { token } = useSelector((state) => state.user.tokenData);\n\tconst {\n\t\tshippingServices,\n\t\tcashdesk: { paymentMethods },\n\t} = useSelector((state) => state.marketData);\n\tconst { t } = useTranslation();\n\tconst { coordinate, address } = user.location;\n\tconst [sells, setSellsPlain] = useState([]);\n\tconst [sellsGroups, setSellsGroups] = useState([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [loadingOverlay, setLoadingOverlay] = useState(false);\n\tconst [paymentMethod, setPaymentMethod] = useState();\n\tconst [paymentMethodWithBalance, setPaymentMethodWithBalance] = useState(0);\n\tconst [chooseCoordinate, setChooseCoordinate] = useState(false);\n\tconst [extraDataSell, setExtraDataSell] = useState();\n\tconst setSells = (sells) =>\n\t\tsetSellsPlain(selectAvailableSellsForPaymentMethod(sells));\n\tconst shippingAddress = useSelector((state) =>\n\t\tstate.user.user?.addresses?.filter((a) => a.type === \"shipping\")\n\t);\n\tasync function getInit() {\n\t\ttry {\n\t\t\tlet sells = await getUserCart(token);\n\t\t\tsells = filterSells(sells);\n\n\t\t\tif (sells.length) {\n\t\t\t\tlet { data, shippingService } = getDefaultShippingCalculateData(\n\t\t\t\t\tsells,\n\t\t\t\t\tshippingServices,\n\t\t\t\t\tcoordinate\n\t\t\t\t);\n\n\t\t\t\tconst sellsGroups = await shippingCalculate(data, token);\n\n\t\t\t\tsetSells(sells);\n\t\t\t\tdispatch(setUserCart(sells));\n\t\t\t\tsetSellsGroups(\n\t\t\t\t\tsetShippingServiceToSellsGroups(\n\t\t\t\t\t\tshippingService,\n\t\t\t\t\t\tsellsGroups\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tlogger(sellsGroups);\n\n\t\t\t\t// back fetches\n\t\t\t\tif (token) {\n\t\t\t\t\tgetCartSupplier(token).then((res) => {\n\t\t\t\t\t\tsetExtraDataSell(res);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// dispatch(openModal(\"payment\"));\n\t\t\t} else {\n\t\t\t\tdispatch(emptyCart());\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tif (error.response?.status === 401) {\n\t\t\t\tdispatch(logoutUser());\n\t\t\t}\n\t\t\tif (\n\t\t\t\terror.response?.data?.error ||\n\t\t\t\terror.response?.data?.items ===\n\t\t\t\t\t\"Sell store geolocation is not present\"\n\t\t\t) {\n\t\t\t\ttoast.error(t(\"geolocation_not_specified\"), toastOptions);\n\t\t\t} else {\n\t\t\t\ttoast.error(\n\t\t\t\t\terror.response?.data?.error || error.response?.data?.items,\n\t\t\t\t\ttoastOptions\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t}\n\t}\n\n\tfunction onChangePaymentMethod(payment) {\n\t\tlet newPM;\n\t\tif (paymentMethod?.id !== payment.id) newPM = payment;\n\n\t\tsetPaymentMethod(newPM);\n\n\t\tsetSellsPlain([\n\t\t\t...selectAvailableSellsForPaymentMethod(\n\t\t\t\tsells,\n\t\t\t\tnewPM,\n\t\t\t\tpaymentMethods,\n\t\t\t\textraDataSell\n\t\t\t),\n\t\t]);\n\t}\n\n\tfunction onFinishSell() {\n\t\tconst comment = \"\";\n\t\tsetLoadingOverlay(true);\n\n\t\tfinishSell(\n\t\t\tgetAvailableSellsIds(sells),\n\t\t\tpaymentMethod.id,\n\t\t\t{},\n\t\t\tcomment,\n\t\t\t{\n\t\t\t\tcountryCode: address.countryCode,\n\t\t\t\tadministrativeArea: address.administrativeArea,\n\t\t\t\tlocality: address.locality,\n\t\t\t\tdependentLocality: address.dependentLocality,\n\t\t\t\taddressLine1: address.addressLine1,\n\t\t\t\tlatitude: coordinate.latitude,\n\t\t\t\tlongitude: coordinate.longitude,\n\t\t\t\tpostalCode: address.postalCode,\n\t\t\t},\n\t\t\ttoken,\n\t\t\twindow.location.origin + \"/profile\"\n\t\t)\n\t\t\t.then(({ url, data }) => {\n\t\t\t\tif (data) {\n\t\t\t\t\tsendWithDataPayment(url, data).then((res) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (url) {\n\t\t\t\t\t\twindow.open(url, \"_blank\").focus();\n\t\t\t\t\t}\n\t\t\t\t\tsetLoadingOverlay(false);\n\t\t\t\t\ttoast.success(t(\"purchese_sucsessfuly\"), toastOptions);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\twindow.location.pathname = \"/profile\";\n\t\t\t\t\t}, 2000);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(async (err) => {\n\t\t\t\tif (err.response?.data?.form?.children?.sells?.errors?.length) {\n\t\t\t\t\tconst notAvailable = [];\n\n\t\t\t\t\tfor (const error of err.response?.data?.form?.children\n\t\t\t\t\t\t?.sells?.errors) {\n\t\t\t\t\t\tconst sell = error.split(\" \");\n\t\t\t\t\t\tsell.forEach((s) =>\n\t\t\t\t\t\t\tNumber(s) ? notAvailable.push(Number(s)) : null\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const sell of sells) {\n\t\t\t\t\t\tfor (const record of sell.sellRecords) {\n\t\t\t\t\t\t\tif (notAvailable.find((s) => s === record.id)) {\n\t\t\t\t\t\t\t\trecord.message = t(\"amount-balance\");\n\t\t\t\t\t\t\t\tsetLoadingOverlay(true);\n\t\t\t\t\t\t\t\tawait removeFromCart(\n\t\t\t\t\t\t\t\t\trecord.id,\n\t\t\t\t\t\t\t\t\trecord.variation,\n\t\t\t\t\t\t\t\t\t() => {}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tsetLoadingOverlay(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsetLoadingOverlay(false);\n\t\t\t\t\treturn sells;\n\t\t\t\t}\n\t\t\t\ttoast.error(t(\"amount-balance\"), toastOptions);\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t});\n\t}\n\n\tasync function onChangeShippingService(\n\t\tsellIds,\n\t\tshippingService,\n\t\tindexOfSellGroup,\n\t\tdate\n\t) {\n\t\ttry {\n\t\t\tsetLoadingOverlay(true);\n\n\t\t\tconst data = getShippingCalculateData(\n\t\t\t\tsellIds,\n\t\t\t\tshippingService,\n\t\t\t\tdate,\n\t\t\t\tuser.location.coordinate\n\t\t\t);\n\n\t\t\tconst [sellGroup] = await shippingCalculate(data, token);\n\n\t\t\tlet sellsGroupsCopy = sellsGroups.slice();\n\t\t\tsellsGroupsCopy[indexOfSellGroup] = setSellsToSellGroup(\n\t\t\t\tsells,\n\t\t\t\tsetShippingServiceToSellGroup(shippingService, sellGroup)\n\t\t\t);\n\n\t\t\tsetSellsGroups(sellsGroupsCopy);\n\n\t\t\t// setSellsGroups((sellsGroups) => [\n\t\t\t//   ...removeSellGroupBySellIds(sellIds, sellsGroups),\n\t\t\t//   setSellsToSellGroup(\n\t\t\t//     sells,\n\t\t\t//     setShippingServiceToSellGroup(shippingService, sellGroup)\n\t\t\t//   ),\n\t\t\t// ]);\n\n\t\t\tsetLoadingOverlay(false);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\talert(\"error\");\n\t\t\tsetLoadingOverlay(false);\n\t\t}\n\t}\n\n\tfunction onChange(count, id, variationId, setLoadingRecord) {\n\t\tsetLoadingRecord(true);\n\t\tif (!count) {\n\t\t\tremoveFromCart(id, variationId);\n\t\t} else {\n\t\t\tdispatch(changeQty(variationId, count, token));\n\t\t\tupdateToCartApi(parseInt(count), id, token)\n\t\t\t\t.then((sell) => {\n\t\t\t\t\tsetSells(replaceSellFromSells(sell, sells));\n\t\t\t\t\tsetLoadingRecord(false);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t\tsetLoadingRecord(false);\n\t\t\t\t});\n\t\t}\n\t}\n\n\tfunction removeFromCart(id, variationId) {\n\t\tsetLoadingOverlay(true);\n\t\tdispatch(removeFromCartState(variationId));\n\t\tremoveToCartApi(id, token)\n\t\t\t.then((sell) => {\n\t\t\t\tsetSells(replaceSellFromSells(sell, sells));\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\ttoast.error(e.response?.data?.message, toastOptions);\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tsetSellsGroups((sellsGroups) =>\n\t\t\tsetSellsToSellsGroups(sells, sellsGroups)\n\t\t);\n\t}, [sells]);\n\n\tuseEffect(() => {\n\t\tif (!token) {\n\t\t\th.push(\"/login\");\n\t\t}\n\t\tif (!coordinate) {\n\t\t\tif (window.webview) {\n\t\t\t\twindow.sendMessageToApp(\"OPEN_LOCATION\");\n\t\t\t} else {\n\t\t\t\tsetChooseCoordinate(true);\n\t\t\t}\n\t\t} else {\n\t\t\tgetInit();\n\t\t\tsetChooseCoordinate(false);\n\t\t}\n\t}, [coordinate]);\n\n\tfunction openPaymentModal() {\n\t\tdispatch(openModal(\"payment\"));\n\t}\n\n\treturn (\n\t\t<MainContext.Provider\n\t\t\tvalue={{\n\t\t\t\tuser: user,\n\t\t\t\ttoken: token,\n\t\t\t\tshippingServices: shippingServices,\n\t\t\t\tsells: sells,\n\t\t\t\tpaymentMethods: paymentMethods,\n\t\t\t\tpaymentMethodWithBalance: paymentMethodWithBalance,\n\t\t\t\tsetPaymentMethodWithBalance: setPaymentMethodWithBalance,\n\t\t\t\tsetSells: setSells,\n\t\t\t\tsellsGroups: sellsGroups,\n\t\t\t\tsetSellsGroups: setSellsGroups,\n\t\t\t\tpaymentMethod: paymentMethod,\n\t\t\t\tsetPaymentMethod: setPaymentMethod,\n\t\t\t\tonChangePaymentMethod: onChangePaymentMethod,\n\t\t\t\tsetLoadingOverlay: setLoadingOverlay,\n\t\t\t\tremoveFromCart: removeFromCart,\n\t\t\t\tonChange: onChange,\n\t\t\t\textraDataSell: extraDataSell,\n\t\t\t\tonChangeShippingService: onChangeShippingService,\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"checkout-three\">\n\t\t\t\t<div className=\"page-content\">\n\t\t\t\t\t{chooseCoordinate ? (\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t{shippingAddress.length > 0 ? (\n\t\t\t\t\t\t\t\t<AddressList\n\t\t\t\t\t\t\t\t\tshippingAddress={shippingAddress}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn bg-primary text-white mx-auto\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (window.webview) {\n\t\t\t\t\t\t\t\t\t\t\twindow.sendMessageToApp(\n\t\t\t\t\t\t\t\t\t\t\t\t\"OPEN_LOCATION\"\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdispatch(openModal(\"map-modal\"));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"address-not-selected\")}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : loading ? (\n\t\t\t\t\t\t<LoaderOverlay />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"cart\">\n\t\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t\t{sells.length ? (\n\t\t\t\t\t\t\t\t\t<LoadingWrapper loading={loadingOverlay}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-9\">\n\t\t\t\t\t\t\t\t\t\t\t<h4>{t(\"cart\")}</h4>\n\t\t\t\t\t\t\t\t\t\t\t<SellGroups\n\t\t\t\t\t\t\t\t\t\t\t\tsellsGroups={sellsGroups}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\n\t\t\t\t\t\t\t\t\t\t\t<Sidebar\n\t\t\t\t\t\t\t\t\t\t\t\topenPaymentModal={\n\t\t\t\t\t\t\t\t\t\t\t\t\topenPaymentModal\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tsells={sells}\n\t\t\t\t\t\t\t\t\t\t\t\tonFinishSell={onFinishSell}\n\t\t\t\t\t\t\t\t\t\t\t\tpaymentMethod={paymentMethod}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</LoadingWrapper>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<EmptyCart />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<YandexMapModal />\n\t\t\t\t<PaymentModal />\n\t\t\t</div>\n\t\t</MainContext.Provider>\n\t);\n}\n","import React, { useContext, useState } from \"react\";\nimport TotalsTwo from \"./TotalsTwo\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tcalculateSellsDiscount,\n\tcalculateSellsTotal,\n\tcalculateShippingPrice,\n} from \"../helpers\";\nimport { getUserCard } from \"../../../api/user\";\nimport { formatterCurrency } from \"../../../utils/string\";\nimport MainContext from \"../MainContext\";\nimport { openModal } from \"../../../actions/modal\";\nimport { useEffect } from \"react\";\nimport AddUserCard from \"../../../components/features/modal/UserCard/AddUserCardModal\";\nimport { useTranslation } from \"react-i18next\";\nimport market from \"../../../config/market\";\nimport InfoSell from \"../../../components/features/modal/InfoSell\";\n\nfunction SidebarThree({ sells, onFinishSell, setPaymentMethod }) {\n\tconst {\n\t\tsellsGroups,\n\t\tpaymentMethodWithBalance,\n\t\tpaymentMethods,\n\t\tpaymentMethod,\n\t\tuserCard,\n\t\tuserCards,\n\t\tonChangePaymentMethod,\n\t\tsetUserCard,\n\t\tsetUserCards,\n\t\tcomment,\n\t\tsetComment,\n\t\tgetAvailableSellsIds,\n\t} = useContext(MainContext);\n\n\tconst dispatch = useDispatch();\n\tconst { token } = useSelector((state) => state.user.tokenData);\n\tconst sellsTotal = calculateSellsTotal(sells);\n\tconst sellsDiscount = calculateSellsDiscount(sells);\n\tconst shippingPrice = calculateShippingPrice(sells, sellsGroups);\n\tconst totalPrice =\n\t\tsellsTotal + shippingPrice - paymentMethodWithBalance - sellsDiscount;\n\n\tconst [isCheckOut, setIsCheckOut] = useState(false);\n\n\tconst { t } = useTranslation();\n\tconst multiCard = paymentMethods.find(\n\t\t(p) => p.gatewayType === \"multicard_payment_collection\"\n\t);\n\tconst yuuKassa = paymentMethods.find((p) => p.gatewayType === \"yuu_kassa\");\n\tconst sellIds = getAvailableSellsIds(sells);\n\tconst cash = paymentMethods.find((p) => p.cash === true);\n\tconst [value, setValue] = useState();\n\n\tfunction openPayment() {\n\t\tdispatch(openModal(\"usercard\"));\n\t}\n\n\tuseEffect(() => {\n\t\tgetUserCard(token).then((res) => {\n\t\t\tsetUserCards(res);\n\t\t});\n\t}, []);\n\n\t// const locations = extraDataSell?.locations;\n\treturn (\n\t\t<div className=\"sidebar_three\">\n\t\t\t<div className=\"summary summary-cart\">\n\t\t\t\t<div className=\"totals\">\n\t\t\t\t\t<div className=\"title\">{t(\"Чек заказа\")}</div>\n\t\t\t\t\t<div className=\"pay_info\">\n\t\t\t\t\t\t<TotalsTwo />\n\t\t\t\t\t\t<div className=\"hr\" />\n\t\t\t\t\t\t<div className=\"total\">\n\t\t\t\t\t\t\t<p>{t(\"Общая сумма\")}</p>\n\t\t\t\t\t\t\t<span className=\"dashed\" />\n\t\t\t\t\t\t\t<p className=\"priceSell\">\n\t\t\t\t\t\t\t\t{formatterCurrency(totalPrice)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"summary-add_comment\">\n\t\t\t\t\t<div className=\"title\">{t(\"Коментарий\")}</div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tonChange={(e) => setValue(e.target.value.trim())}\n\t\t\t\t\t\tdefaultValue={comment}\n\t\t\t\t\t\tname=\"comment text\"\n\t\t\t\t\t\tid=\"comment\"\n\t\t\t\t\t\tcols=\"30\"\n\t\t\t\t\t\tplaceholder={t(\"add_comment\")}\n\t\t\t\t\t\trows=\"5\"\n\t\t\t\t\t></textarea>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pay_wrapper\">\n\t\t\t\t\t<div className=\"title\">{t(\"Метод оплаты\")}</div>\n\t\t\t\t\t<div className=\"summary-user_card\">\n\t\t\t\t\t\t<div className=\"payments d-flex align-items-center justify-content-between w-100\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"btn\"\n\t\t\t\t\t\t\t\tonClick={() => openPayment()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{userCard ? userCard.name : t(\"select-payment\")}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tdisabled={sellIds.length === 0}\n\t\t\t\t\t\tclassName=\"btn btn-outline-primary-2 btn-order btn-block pay-btn\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tpaymentMethod\n\t\t\t\t\t\t\t\t? onFinishSell(\n\t\t\t\t\t\t\t\t\t\tuserCard\n\t\t\t\t\t\t\t\t\t\t\t? userCard\n\t\t\t\t\t\t\t\t\t\t\t: cash\n\t\t\t\t\t\t\t\t\t\t\t? cash\n\t\t\t\t\t\t\t\t\t\t\t: yuuKassa\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: openPayment();\n\t\t\t\t\t\t\tsetComment(value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t(\"pay\")}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<AddUserCard\n\t\t\t\tsetUserCards={setUserCards}\n\t\t\t\tonChangePaymentMethod={onChangePaymentMethod}\n\t\t\t\tuserCards={userCards}\n\t\t\t\tuserCard={userCard}\n\t\t\t\tyuuKassa={\n\t\t\t\t\tmarket.subdomain === \"demomarketplace\" ? yuuKassa : null\n\t\t\t\t}\n\t\t\t\tmultiCard={multiCard}\n\t\t\t\tcash={cash}\n\t\t\t\tsetPaymentMethod={setPaymentMethod}\n\t\t\t\tsetUserCard={setUserCard}\n\t\t\t/>\n\n\t\t\t<InfoSell isCheckOut={isCheckOut} setIsCheckOut={setIsCheckOut} />\n\t\t</div>\n\t);\n}\n\nexport default SidebarThree;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tfinishSell,\n\tgetCartSupplier,\n\tgetUserCart,\n\tshippingCalculate,\n\tupdateToCartApi,\n} from \"../../api/cart\";\nimport { closeModal, openModal } from \"../../actions/modal\";\nimport LoaderOverlay from \"../../components/features/loaders/LoaderOverlay\";\nimport {\n\tgetAvailableSellsIds,\n\tgetDefaultShippingCalculateData,\n\tgetShippingCalculateData,\n\treplaceSellFromSells,\n\tselectAvailableSellsForPaymentMethod,\n\tsetSellsToSellsGroups,\n\tsetSellsToSellGroup,\n\tsetShippingServiceToSellGroup,\n\tsetShippingServiceToSellsGroups,\n\tlogger,\n\tfilterSells,\n} from \"./helpers\";\nimport AddCommentModal from \"../../components/features/modal/AddCommentModal\";\nimport YandexMapModalTwo from \"../../components/features/modal/YandexMapModalTwo\";\nimport MainContext from \"./MainContext\";\nimport SellGroupsTwo from \"./sells/SellGroupsTwo\";\nimport LoadingWrapper from \"./LoadingWrapper\";\nimport { removeToCartApi } from \"../../api/cart\";\nimport { toast } from \"react-toastify\";\nimport {\n\tremoveFromCartState,\n\tchangeQty,\n\temptyCart,\n\tsetUserCart,\n} from \"../../actions/cart\";\nimport EmptyCart from \"../../components/features/cart/EmptyCart\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport market from \"../../config/market\";\nimport RiveLoader from \"../../components/features/loaders/RiveLoader\";\nimport AddressList from \"../profile/addresses/AddressList\";\nimport SidebarThree from \"./sidebar/SideBarThree\";\n\nconst toastOptions = { position: \"top-left\" };\n\nexport default function CheckoutFour() {\n\tconst dispatch = useDispatch();\n\tconst h = useHistory();\n\tconst { t } = useTranslation();\n\tconst user = useSelector((state) => state.user);\n\tconst { token } = useSelector((state) => state.user.tokenData);\n\tconst {\n\t\tshippingServices,\n\t\tcashdesk: { paymentMethods },\n\t} = useSelector((state) => state.marketData);\n\n\tconst [chooseCoordinate, setChooseCoordinate] = useState(false);\n\tconst { coordinate, address } = user.location;\n\tconst [sells, setSellsPlain] = useState([]);\n\tconst [sellsGroups, setSellsGroups] = useState([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [loadingOverlay, setLoadingOverlay] = useState(false);\n\tconst [paymentMethod, setPaymentMethod] = useState();\n\tconst [paymentMethodWithBalance, setPaymentMethodWithBalance] = useState(0);\n\tconst [extraDataSell, setExtraDataSell] = useState();\n\tconst [userCards, setUserCards] = useState(null);\n\tconst [userCard, setUserCard] = useState(null);\n\tconst [comment, setComment] = useState();\n\tconst [shippingDate, setShippingDate] = useState();\n\tconst setSells = (sells) =>\n\t\tsetSellsPlain(selectAvailableSellsForPaymentMethod(sells));\n\n\tlet mount = true;\n\tconst shippingAddress = useSelector((state) =>\n\t\tstate.user.user?.addresses?.filter((a) => a.type === \"shipping\")\n\t);\n\n\tasync function getInit() {\n\t\tdispatch(closeModal());\n\t\ttry {\n\t\t\tlet sells = await getUserCart(token);\n\t\t\tsells = filterSells(sells);\n\n\t\t\tif (sells.length) {\n\t\t\t\tlet { data, shippingService } = getDefaultShippingCalculateData(\n\t\t\t\t\tsells,\n\t\t\t\t\tshippingServices,\n\t\t\t\t\tcoordinate\n\t\t\t\t);\n\n\t\t\t\tconst sellsGroups = await shippingCalculate(data, token);\n\t\t\t\tif (mount) {\n\t\t\t\t\tsetSells(sells);\n\t\t\t\t\tdispatch(setUserCart(sells));\n\t\t\t\t\tsetSellsGroups(\n\t\t\t\t\t\tsetShippingServiceToSellsGroups(\n\t\t\t\t\t\t\tshippingService,\n\t\t\t\t\t\t\tsellsGroups\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tlogger(sellsGroups);\n\t\t\t\t}\n\t\t\t\tif (token) {\n\t\t\t\t\tgetCartSupplier(token).then((res) => {\n\t\t\t\t\t\tif (mount) {\n\t\t\t\t\t\t\tsetExtraDataSell(res);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatch(emptyCart());\n\t\t\t}\n\t\t\tif (mount) {\n\t\t\t\tsetLoading(false);\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error.response);\n\t\t\talert(t(\"shipping_error\"));\n\t\t\tif (\n\t\t\t\terror.response?.data?.error ||\n\t\t\t\terror.response?.data?.items ===\n\t\t\t\t\t\"Sell store geolocation is not present\"\n\t\t\t) {\n\t\t\t\ttoast.error(t(\"geolocation_not_specified\"), toastOptions);\n\t\t\t} else {\n\t\t\t\ttoast.error(\n\t\t\t\t\terror.response?.data?.error || error.response?.data?.items,\n\t\t\t\t\ttoastOptions\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (mount) {\n\t\t\t\tsetLoading(false);\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onChangePaymentMethod(payment) {\n\t\tsetPaymentMethod(payment);\n\t\tsetSellsPlain([\n\t\t\t...selectAvailableSellsForPaymentMethod(\n\t\t\t\tsells,\n\t\t\t\tpayment,\n\t\t\t\tpaymentMethods,\n\t\t\t\textraDataSell\n\t\t\t),\n\t\t]);\n\t}\n\n\tfunction onFinishSell(payment) {\n\t\tsetLoadingOverlay(true);\n\t\tfinishSell(\n\t\t\tgetAvailableSellsIds(sells),\n\t\t\tpaymentMethod.id,\n\t\t\t!paymentMethod.cash && {\n\t\t\t\tbankCard: { id: payment.id },\n\t\t\t},\n\t\t\tcomment,\n\t\t\t{\n\t\t\t\tcountryCode: address.countryCode,\n\t\t\t\tadministrativeArea: address.administrativeArea,\n\t\t\t\tlocality: address.locality,\n\t\t\t\tdependentLocality: address.dependentLocality,\n\t\t\t\taddressLine1: address.addressLine1,\n\t\t\t\tlatitude: coordinate.latitude,\n\t\t\t\tlongitude: coordinate.longitude,\n\t\t\t\tpostalCode: address.postalCode,\n\t\t\t},\n\t\t\ttoken,\n\t\t\twindow.location.origin + \"/profile\",\n\t\t\tshippingDate\n\t\t)\n\t\t\t.then(({ url }) => {\n\t\t\t\tif (url) window.open(url, \"_blank\").focus();\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t\ttoast.success(t(\"purchese_sucsessfuly\"), {\n\t\t\t\t\tposition: \"top-left\",\n\t\t\t\t});\n\t\t\t\th.push(\"/profile\");\n\t\t\t})\n\t\t\t.catch(async (err) => {\n\t\t\t\tif (err.response?.data?.form?.children?.sells?.errors.length) {\n\t\t\t\t\tconst notAvailable = [];\n\n\t\t\t\t\tfor (const error of err.response?.data?.form?.children\n\t\t\t\t\t\t?.sells?.errors) {\n\t\t\t\t\t\tconst sell = error.split(\" \");\n\t\t\t\t\t\tsell.forEach((s) =>\n\t\t\t\t\t\t\tNumber(s) ? notAvailable.push(Number(s)) : null\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const sell of sells) {\n\t\t\t\t\t\tfor (const record of sell.sellRecords) {\n\t\t\t\t\t\t\tif (notAvailable.find((s) => s === record.id)) {\n\t\t\t\t\t\t\t\trecord.message = t(\"amount-balance\");\n\t\t\t\t\t\t\t\tsetLoadingOverlay(true);\n\t\t\t\t\t\t\t\tawait removeFromCart(\n\t\t\t\t\t\t\t\t\trecord.id,\n\t\t\t\t\t\t\t\t\trecord.variation,\n\t\t\t\t\t\t\t\t\t() => {}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tsetLoadingOverlay(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsetLoadingOverlay(false);\n\t\t\t\t\treturn sells;\n\t\t\t\t}\n\t\t\t\ttoast.error(t(\"amount-balance\"), toastOptions);\n\t\t\t\tconsole.log(err.response);\n\t\t\t\tsetLoadingOverlay(false);\n\t\t\t});\n\t}\n\n\tasync function onChangeShippingService(\n\t\tsellIds,\n\t\tshippingService,\n\t\tindexOfSellGroup,\n\t\tdate\n\t) {\n\t\ttry {\n\t\t\tsetLoadingOverlay(true);\n\n\t\t\tconst data = getShippingCalculateData(\n\t\t\t\tsellIds,\n\t\t\t\tshippingService,\n\t\t\t\tdate,\n\t\t\t\tuser.location.coordinate\n\t\t\t);\n\n\t\t\tif (data.shippingTime) {\n\t\t\t\tsetShippingDate(data.shippingTime);\n\t\t\t}\n\t\t\tconst [sellGroup] = await shippingCalculate(data, token);\n\n\t\t\tlet sellsGroupsCopy = sellsGroups.slice();\n\t\t\tsellsGroupsCopy[indexOfSellGroup] = setSellsToSellGroup(\n\t\t\t\tsells,\n\t\t\t\tsetShippingServiceToSellGroup(shippingService, sellGroup)\n\t\t\t);\n\n\t\t\tsetSellsGroups(sellsGroupsCopy);\n\n\t\t\tsetLoadingOverlay(false);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\talert(\"error\");\n\t\t\tsetLoadingOverlay(false);\n\t\t}\n\t}\n\n\tfunction onChange(count, id, variationId, setLoadingRecord) {\n\t\tsetLoadingRecord(true);\n\t\tif (!count) {\n\t\t\tremoveFromCart(id, variationId, setLoadingRecord);\n\t\t} else {\n\t\t\tdispatch(changeQty(variationId, count, token));\n\t\t\tupdateToCartApi(parseInt(count), id, token)\n\t\t\t\t.then((sell) => {\n\t\t\t\t\tsetSells(replaceSellFromSells(sell, sells));\n\t\t\t\t\tsetLoadingRecord(false);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t\tsetLoadingRecord(false);\n\t\t\t\t});\n\t\t}\n\t}\n\n\tfunction removeFromCart(id, variationId, setLoadingRecord) {\n\t\tdispatch(removeFromCartState(variationId));\n\t\treturn removeToCartApi(id, token)\n\t\t\t.then((sell) => {\n\t\t\t\tsetSells(replaceSellFromSells(sell, sells));\n\t\t\t\tsetLoadingRecord(false);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tsetLoadingRecord(false);\n\t\t\t\ttoast.error(e.response?.data?.message, toastOptions);\n\t\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tif (mount) {\n\t\t\tsetSellsGroups((sellsGroups) =>\n\t\t\t\tsetSellsToSellsGroups(sells, sellsGroups)\n\t\t\t);\n\t\t}\n\t}, [sells]);\n\n\tuseEffect(() => {\n\t\tif (!token) {\n\t\t\th.push(\"/login\", {\n\t\t\t\tprevPathname: h.location.pathname,\n\t\t\t});\n\t\t}\n\t\tif (!coordinate) {\n\t\t\tif (window.webview) {\n\t\t\t\twindow.sendMessageToApp(\"OPEN_LOCATION\");\n\t\t\t} else {\n\t\t\t\tsetChooseCoordinate(true);\n\t\t\t}\n\t\t} else {\n\t\t\tgetInit();\n\t\t\tsetChooseCoordinate(false);\n\t\t}\n\t}, [coordinate]);\n\n\tfunction openMapModal(e) {\n\t\tdispatch(openModal(\"map\"));\n\t}\n\treturn (\n\t\t<MainContext.Provider\n\t\t\tvalue={{\n\t\t\t\tuser: user,\n\t\t\t\ttoken: token,\n\t\t\t\tshippingServices: shippingServices,\n\t\t\t\tsells: sells,\n\t\t\t\tpaymentMethods: paymentMethods,\n\t\t\t\tpaymentMethodWithBalance: paymentMethodWithBalance,\n\t\t\t\tsetPaymentMethodWithBalance: setPaymentMethodWithBalance,\n\t\t\t\tsetSells: setSells,\n\t\t\t\tsellsGroups: sellsGroups,\n\t\t\t\tsetSellsGroups: setSellsGroups,\n\t\t\t\tpaymentMethod: paymentMethod,\n\t\t\t\tonFinishSell: onFinishSell,\n\t\t\t\tsetPaymentMethod: setPaymentMethod,\n\t\t\t\tonChangePaymentMethod: onChangePaymentMethod,\n\t\t\t\tsetLoadingOverlay: setLoadingOverlay,\n\t\t\t\tremoveFromCart: removeFromCart,\n\t\t\t\tonChange: onChange,\n\t\t\t\tgetAvailableSellsIds: getAvailableSellsIds,\n\t\t\t\textraDataSell: extraDataSell,\n\t\t\t\tonChangeShippingService: onChangeShippingService,\n\t\t\t\tuserCard: userCard,\n\t\t\t\tuserCards: userCards,\n\t\t\t\tcomment: comment,\n\t\t\t\tsetComment: setComment,\n\t\t\t\tsetUserCards: setUserCards,\n\t\t\t\tsetUserCard: setUserCard,\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"main checkout-four\">\n\t\t\t\t<div className=\"page-content\">\n\t\t\t\t\t{chooseCoordinate ? (\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t{shippingAddress.length > 0 ? (\n\t\t\t\t\t\t\t\t<AddressList\n\t\t\t\t\t\t\t\t\tshippingAddress={shippingAddress}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<div className=\"d-flex align-item-center flex-column mt-3\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn bg-primary text-white mx-auto\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (window.webview) {\n\t\t\t\t\t\t\t\t\t\t\twindow.sendMessageToApp(\n\t\t\t\t\t\t\t\t\t\t\t\t\"OPEN_LOCATION\"\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\topenMapModal();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"address-not-selected\")}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<h3 className=\"text-center mt-3\">\n\t\t\t\t\t\t\t\t\t{t(\"choose_address\")}\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : loading ? (\n\t\t\t\t\t\tmarket.config.loader ? (\n\t\t\t\t\t\t\t<RiveLoader />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<LoaderOverlay wrapper={true} />\n\t\t\t\t\t\t)\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"cart\">\n\t\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t\t{sells.length ? (\n\t\t\t\t\t\t\t\t\t<LoadingWrapper loading={loadingOverlay}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-8 col-12\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"change-address\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"summary-shipping-estimate\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4>Адрес доставки</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: \"0\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: \"5px\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextDecoration:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"underline\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"qwsdfdsfs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\topenMapModal();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{address\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? address.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Адрес не выбран\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarket.config\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.icons\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.changeAddress\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"icon\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<SellGroupsTwo\n\t\t\t\t\t\t\t\t\t\t\t\tsellsGroups={sellsGroups}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-4 col-12\">\n\t\t\t\t\t\t\t\t\t\t\t<SidebarThree\n\t\t\t\t\t\t\t\t\t\t\t\tsetPaymentMethod={\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetPaymentMethod\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tsells={sells}\n\t\t\t\t\t\t\t\t\t\t\t\textraDataSell={extraDataSell}\n\t\t\t\t\t\t\t\t\t\t\t\tonFinishSell={onFinishSell}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</LoadingWrapper>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<EmptyCart />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<YandexMapModalTwo />\n\t\t\t\t<AddCommentModal />\n\t\t\t</div>\n\t\t</MainContext.Provider>\n\t);\n}\n","import React, { useEffect } from \"react\";\nimport Checkout from \"./Checkout\";\nimport CheckoutTwo from \"./CheckoutTwo\";\nimport CheckoutThree from \"./CheckoutThree\";\nimport market from \"../../config/market\";\nimport { Redirect } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setCategoryPath } from \"../../actions/any\";\nimport { useTranslation } from \"react-i18next\";\nimport CheckoutFour from \"./CheckoutFour\";\n\nexport default function ShopRoute() {\n\tconst token = useSelector((state) => state.user.tokenData);\n\tconst dispatch = useDispatch();\n\tconst { t } = useTranslation();\n\tuseEffect(() => {\n\t\tdispatch(setCategoryPath(null));\n\t\tdocument.head.querySelector(\"title\").innerText = t(\"check_out\");\n\t}, [dispatch]);\n\n\tif (!token) {\n\t\treturn <Redirect to=\"/cart\" />;\n\t} else {\n\t\tswitch (market.config.checkout) {\n\t\t\tcase 1:\n\t\t\t\treturn <Checkout />;\n\t\t\tcase 2:\n\t\t\t\treturn <CheckoutTwo />;\n\t\t\tcase 3:\n\t\t\t\treturn <CheckoutThree />;\n\t\t\tcase 4:\n\t\t\t\treturn <CheckoutFour />;\n\t\t\tdefault:\n\t\t\t\treturn <Checkout />;\n\t\t}\n\t}\n}\n"],"sourceRoot":""}